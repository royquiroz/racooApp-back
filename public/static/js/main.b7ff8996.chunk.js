(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e){e.exports={1:"Aguascalientes",2:"Baja California",3:"Baja California Sur",4:"Campeche",5:"Coahuila de Zaragoza",6:"Colima",7:"Chiapas",8:"Chihuahua",9:"Ciudad de M\xe9xico",10:"Durango",11:"Guanajuato",12:"Guerrero",13:"Hidalgo",14:"Jalisco",15:"M\xe9xico",16:"Michoac\xe1n de Ocampo",17:"Morelos",18:"Nayarit",19:"Nuevo Le\xf3n",20:"Oaxaca",21:"Puebla",22:"Quer\xe9taro",23:"Quintana Roo",24:"San Luis Potos\xed",25:"Sinaloa",26:"Sonora",27:"Tabasco",28:"Tamaulipas",29:"Tlaxcala",30:"Veracruz",31:"Yucat\xe1n",32:"Zacatecas"}},5457:function(e,a,t){e.exports=t(5660)},5462:function(e,a,t){},5464:function(e,a,t){},5660:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),o=t.n(r),c=(t(5462),t(10)),i=t(11),s=t(13),m=t(12),u=t(14),h=(t(5464),t(5662)),d=t(21),p=t(1),g=t(83),E=t.n(g),f=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).signup=function(a){localStorage.removeItem("token"),localStorage.removeItem("user"),e.setState({message:"Cerraste Sesi\xf3n exitosamente",isOpen:!0}),setTimeout(function(){window.location="/"},3e3)},e.handleClose=function(a){e.setState({message:"",isOpen:!1})},e.state={isOpen:!1,message:""},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.open,t=e.toggleDrawer,n=this.state,r=n.isOpen,o=n.message;return l.a.createElement("div",null,l.a.createElement(p.l,{open:a,onClose:t},l.a.createElement("div",{tabIndex:0,role:"button",className:"drawerList",onClick:t,onKeyDown:t},l.a.createElement(p.v,null,l.a.createElement(p.A,null,l.a.createElement("img",{src:E.a,alt:"logo",className:"logoMenu"})),l.a.createElement(p.w,{component:h.a,to:"/companies"},l.a.createElement(p.x,null,l.a.createElement(d.c,null)),l.a.createElement(p.z,{primary:"Compa\xf1ias"})),l.a.createElement(p.w,{component:h.a,to:"/clients"},l.a.createElement(p.x,null,l.a.createElement(d.i,null)),l.a.createElement(p.z,{primary:"Clientes"})),l.a.createElement(p.w,{component:h.a,to:"/calls"},l.a.createElement(p.x,null,l.a.createElement(d.k,null)),l.a.createElement(p.z,{primary:"Llamadas"}))),l.a.createElement(p.k,null),l.a.createElement(p.v,null,l.a.createElement(p.w,{button:!0},l.a.createElement(p.x,null,l.a.createElement(d.e,null)),l.a.createElement(p.z,{primary:"Perfil"})),l.a.createElement(p.w,{button:!0,onClick:this.signup},l.a.createElement(p.x,null,l.a.createElement(d.d,null)),l.a.createElement(p.z,{primary:"Cerrar Sesi\xf3n"}))))),l.a.createElement(p.H,{onClose:this.handleClose,open:r,message:o}))}}]),a}(n.Component),b=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).toggleDrawer=function(){var a=e.state.open;a=!a,e.setState({open:a})},e.state={user:{},open:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));this.setState({user:e})}},{key:"render",value:function(){var e=this.state.open;return l.a.createElement("div",{className:"root"},l.a.createElement(p.a,{position:"fixed",color:"default"},l.a.createElement(p.T,null,localStorage.getItem("token")?l.a.createElement("div",{className:"grow",align:"left"},l.a.createElement(p.r,{color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer},l.a.createElement(d.f,null)),l.a.createElement(p.b,{variant:"contained",color:"primary",style:{margin:"0 40%"},component:h.a,to:"/call"},"Nueva Llamada")):l.a.createElement(p.U,{color:"inherit",className:"grow",align:"left"},l.a.createElement("img",{src:E.a,alt:"logo",className:"logoAuth"})),localStorage.getItem("token")?l.a.createElement("div",null," "):l.a.createElement("div",null,l.a.createElement(p.b,{component:h.a,color:"inherit",to:"/login"},"Iniciar Sesi\xf3n"),l.a.createElement(p.b,{component:h.a,color:"inherit",to:"/signup"},"Registrarse")))),l.a.createElement(f,{open:e,toggleDrawer:this.toggleDrawer}))}}]),a}(n.Component),v=t(5665),C=t(5661),S=t(5664),y=t(27),O=t.n(y),k="localhost"===window.location.hostname?"http://localhost:3000/api":"https://racooapp.herokuapp.com/api",M={"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},j=function(e){return O.a.post("".concat(k,"/auth/register"),e).then(function(){return{error:!1,msg:"Usuario creado con \xe9xito"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},N=function(e){return O.a.post("".concat(k,"/auth/login"),e).then(function(e){return localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),{error:!1,msg:"Haz iniciado de sesi\xf3n correctamente"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},I=function(e,a){return O.a.get("".concat(k,"/company?name=").concat(e,"&checked=").concat(a),{headers:M}).then(function(e){return{error:!1,companies:e.data.companies,msg:"".concat(e.data.companies.length," Compa\xf1ias encontradas exitosamente")}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},w=function(e){return console.log(e),O.a.post("".concat(k,"/company"),e,{headers:M}).then(function(e){return console.log(e),{error:!1,company:e.data.company._id,msg:e.data.msg}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},D=function(e,a){return console.log(a),O.a.patch("".concat(k,"/company/").concat(e),a,{headers:M}).then(function(e){return console.log(e),{error:!1,company:e.data.company,msg:e.data.msg}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},x=function(e){return O.a.get("".concat(k,"/client?name=").concat(e),{headers:M}).then(function(e){return{error:!1,clients:e.data.clients,msg:"".concat(e.data.clients.length," Clientes encontrados exitosamente")}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},T=function(e){return O.a.post("".concat(k,"/client"),e,{headers:M}).then(function(e){return{error:!1,client:e.data.client._id,msg:e.data.msg}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},_=function(e,a){return console.log(a),O.a.patch("".concat(k,"/client/").concat(e),a,{headers:M}).then(function(e){return console.log(e),{error:!1,client:e.data.client,msg:e.data.msg}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},A=function(e,a){return O.a.get("".concat(k,"/call?init=").concat(e,"&fin=").concat(a),{headers:M}).then(function(e){return{error:!1,calls:e.data.calls,msg:"".concat(e.data.calls.length," LLamadas encontradas exitosamente")}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},L=function(e){return O.a.post("".concat(k,"/call"),e,{headers:M}).then(function(e){return{error:!1,call:e.data.call._id,msg:e.data.msg}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},P=function(e,a){return O.a.patch("".concat(k,"/call/").concat(e),a,{headers:M}).then(function(e){return{error:!1,call:e.data.call,msg:"Cambios guardados exitosamente"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},q=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){var t=e.state.user;t[a.target.name]=a.target.value,e.setState({user:t})},e.handleClose=function(a){e.setState({message:"",open:!1})},e.handleRegister=function(a){a.preventDefault(),j(e.state.user).then(function(a){a.error?e.setState({message:a.msg,open:!0}):(e.setState({message:a.msg,open:!0}),e.props.history.push("/login"))})},e.handleLogin=function(a){a.preventDefault(),N(e.state.user).then(function(a){a.error?e.setState({message:a.msg,open:!0}):(e.setState({message:a.msg,open:!0}),setTimeout(function(){e.props.history.push("/")},2e3))})},e.state={user:{name:"",email:"",password:"",confirmPassword:""},open:!1,message:""},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.open,t=e.message;return l.a.createElement("div",{className:"container"},l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,xs:!0},"\xa0"),l.a.createElement(p.q,{item:!0,xs:4},l.a.createElement(p.D,{className:"auth",elevation:6},l.a.createElement("form",{onSubmit:"login"===this.props.auth?this.handleLogin:this.handleRegister},"signup"===this.props.auth?l.a.createElement(p.S,{label:"Nombre",margin:"normal",name:"name",fullWidth:!0,onChange:this.handleChange}):null,l.a.createElement(p.S,{label:"Email",margin:"normal",name:"email",fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{label:"Password",margin:"normal",name:"password",type:"password",fullWidth:!0,onChange:this.handleChange}),"signup"===this.props.auth?l.a.createElement(p.S,{label:"Confirmar Password",margin:"normal",name:"confirmPassword",type:"password",fullWidth:!0,onChange:this.handleChange}):null,l.a.createElement(p.b,{variant:"contained",color:"primary",type:"submit",className:"button"},"login"===this.props.auth?"Iniciar Sesi\xf3n":"Registrarse")))),l.a.createElement(p.q,{item:!0,xs:!0},"\xa0")),l.a.createElement(p.H,{onClose:this.handleClose,open:a,message:t}))}}]),a}(n.Component),R=t(5630),F=t(205),W=function(e){var a=e.company;return l.a.createElement(p.q,{item:!0,md:3},l.a.createElement(p.c,null,l.a.createElement(p.e,null,l.a.createElement(p.U,{variant:"title",component:"h5"},a.name?a.name:"Lic. ".concat(a.lawyer)),a.number?l.a.createElement(p.U,{variant:"subheading",component:"h4"},"Notaria No. ",a.number):null,l.a.createElement(p.U,{color:"textSecondary"},F[a.state])),l.a.createElement(p.d,null,l.a.createElement(p.b,{color:"secondary",component:R.a,size:"small",to:"/company/".concat(a._id)},"Ver Mas"))))},Y=[{number:"1",value:"Aguascalientes"},{number:"2",value:"Baja California"},{number:"3",value:"Baja California Sur"},{number:"4",value:"Campeche"},{number:"5",value:"Coahuila de Zaragoza"},{number:"6",value:"Colima"},{number:"7",value:"Chiapas"},{number:"8",value:"Chihuahua"},{number:"9",value:"Ciudad de M\xe9xico"},{number:"10",value:"Durango"},{number:"11",value:"Guanajuato"},{number:"12",value:"Guerrero"},{number:"13",value:"Hidalgo"},{number:"14",value:"Jalisco"},{number:"15",value:"M\xe9xico"},{number:"16",value:"Michoac\xe1n de Ocampo"},{number:"17",value:"Morelos"},{number:"18",value:"Nayarit"},{number:"19",value:"Nuevo Le\xf3n"},{number:"20",value:"Oaxaca"},{number:"21",value:"Puebla"},{number:"22",value:"Quer\xe9taro"},{number:"23",value:"Quintana Roo"},{number:"24",value:"San Luis Potos\xed"},{number:"25",value:"Sinaloa"},{number:"26",value:"Sonora"},{number:"27",value:"Tabasco"},{number:"28",value:"Tamaulipas"},{number:"29",value:"Tlaxcala"},{number:"30",value:"Veracruz"},{number:"31",value:"Yucat\xe1n"},{number:"32",value:"Zacatecas"}],V=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChangeKind=function(a){var t=e.state.company;a.target.checked?t.kind="COMPANY":t.kind="NOTARY",e.setState({company:t})},e.handleChange=function(a){var t=e.state.company;t[a.target.name]=a.target.value,e.setState({company:t})},e.handleSubmit=function(a){a.preventDefault(),w(e.state.company).then(function(a){e.setState({message:a.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/company/".concat(a.company))},2e3)})},e.resetForm=function(){var a=e.state.company;a={kind:"NOTARY",state:""},e.setState({company:a})},e.state={company:{kind:"NOTARY",state:""},openMessage:!1,message:""},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.company,t=e.openMessage,n=e.message,r=this.props,o=r.openModal,c=r.handleClose;return l.a.createElement("div",null,l.a.createElement(p.h,{onClose:c,open:o,scroll:"body"},l.a.createElement(p.j,{onClose:c},"Nueva Compa\xf1ia"),l.a.createElement(p.i,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.o,{control:l.a.createElement(p.I,{name:"kind",onChange:this.handleChangeKind}),label:"Compa\xf1ia"}),"COMPANY"===a.kind?l.a.createElement(p.S,{label:"Nombre de la Compa\xf1ia",name:"name",margin:"normal",onChange:this.handleChange,fullWidth:!0}):null,"NOTARY"===a.kind?l.a.createElement(p.S,{label:"No. Notaria",name:"number",type:"number",margin:"normal",onChange:this.handleChange,fullWidth:!0}):null,"NOTARY"===a.kind?l.a.createElement(p.S,{label:"Nombre del Notario",name:"lawyer",margin:"normal",onChange:this.handleChange,fullWidth:!0}):null,l.a.createElement(p.S,{select:!0,label:"Estado",name:"state",margin:"normal",value:a.state,onChange:this.handleChange,fullWidth:!0},Y.map(function(e){return l.a.createElement(p.B,{key:e.number,value:e.number},e.value)})),l.a.createElement(p.b,{className:"buttonForm",type:"submit",onClick:c,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.b,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.H,{onClose:c,open:t,message:n}))}}]),a}(n.Component),B=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(a){e.setState({openModal:!1})},e.handleChange=function(a){e.setState({companySearch:a.target.value})},e.handleSearchCompany=function(a){var t=e.state,n=t.companySearch,l=t.checked;e.setState({loading:!0}),I(n,l).then(function(a){setTimeout(function(){e.setState({companies:a.companies,loading:!1})},500)})},e.switch=function(a){console.log(a.target.checked),e.setState({checked:!e.state.checked})},e.state={companies:[],companySearch:"",openModal:!1,loading:!0,checked:!0},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1})},2e3)}},{key:"render",value:function(){var e=this.state,a=e.companies,t=e.companySearch,n=e.openModal,r=e.loading;return l.a.createElement("div",{className:"container"},r?l.a.createElement(p.g,null):l.a.createElement("div",null,l.a.createElement(p.q,{container:!0,spacing:16},l.a.createElement(p.q,{item:!0,sm:4}),l.a.createElement(p.q,{item:!0,sm:3},l.a.createElement(p.o,{control:l.a.createElement(p.I,{checked:this.state.checked,onChange:this.switch}),label:"Notaria"}),l.a.createElement(p.D,{elevation:1,style:{margin:"0 50px 30px 35px"}},l.a.createElement(p.t,{placeholder:"Buscar",margin:"none",onChange:this.handleChange,value:t}),l.a.createElement(p.r,{"aria-label":"Buscar",onClick:this.handleSearchCompany},l.a.createElement(d.n,null))))),l.a.createElement(p.q,{container:!0,spacing:24},a.map(function(e,a){return l.a.createElement(W,{key:a,company:e})}),l.a.createElement(p.m,{className:"fab",size:"large",color:"primary",onClick:this.handleClick},l.a.createElement(d.a,null))),l.a.createElement(V,Object.assign({openModal:n,handleClose:this.handleClose},this.props))))}}]),a}(n.Component),U=function(e){var a=e.user;return l.a.createElement(p.q,{spacing:32,container:!0},l.a.createElement(p.q,{item:!0,sm:4,xs:!1}),l.a.createElement(p.q,{item:!0,sm:4,xs:12},l.a.createElement(p.w,{component:R.a,to:"/client/".concat(a._id),button:!0},l.a.createElement(p.x,null,l.a.createElement(d.h,null)),l.a.createElement(p.z,{primary:"".concat(a.name," ").concat(void 0===a.last_name?"":a.last_name)}),l.a.createElement(p.y,null,l.a.createElement(p.r,{"aria-label":"Comments"},l.a.createElement(d.j,null))))),l.a.createElement(p.q,{item:!0,sm:4,xs:!1}))},z=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChangeKind=function(a){var t=e.props.company;a.target.checked?t.kind="COMPANY":t.kind="NOTARY",e.setState({company:t})},e.handleChange=function(a){var t=e.state.company;t[a.target.name]=a.target.value,console.log(t),e.setState({company:t})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.company;D(e.props.company._id,t).then(function(a){e.setState({message:a.msg,openMessage:!0})})},e.state={company:{},kind:"NOTARY",message:"",openMessage:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.company,a=this.state,t=a.message,n=a.openMessage;return l.a.createElement(p.q,{spacing:32,container:!0},l.a.createElement(p.q,{item:!0,sm:4,xs:!1}),l.a.createElement(p.q,{item:!0,sm:4,xs:12},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.o,{control:l.a.createElement(p.I,{name:"kind",checked:"COMPANY"===e.kind,onChange:this.handleChangeKind}),label:"Compa\xf1ia"}),"COMPANY"===e.kind?l.a.createElement(p.S,{label:"Nombre de la Compa\xf1ia",name:"name",margin:"normal",defaultValue:e.name,fullWidth:!0,onChange:this.handleChange}):null,"NOTARY"===e.kind?l.a.createElement(p.S,{label:"Nombre del Notario",name:"lawyer",margin:"normal",defaultValue:e.lawyer,fullWidth:!0,onChange:this.handleChange}):null,"NOTARY"===e.kind?l.a.createElement(p.S,{label:"Numero de Notaria",name:"number",type:"number",margin:"normal",defaultValue:e.number,fullWidth:!0,onChange:this.handleChange}):null,l.a.createElement(p.S,{label:"Clave",name:"key",margin:"normal",defaultValue:e.key,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{label:"Telefono",name:"telephone",margin:"normal",type:"number",defaultValue:e.telephone,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{select:!0,label:"Estado",name:"state",margin:"normal",value:e.state,style:{textAlign:"left"},fullWidth:!0,onChange:this.handleChange},Y.map(function(e){return l.a.createElement(p.B,{key:e.number,value:e.number},e.value)})),l.a.createElement(p.b,{variant:"contained",color:"primary",type:"submit"},"Guardar"))),l.a.createElement(p.q,{item:!0,sm:4,xs:!1}),l.a.createElement(p.H,{open:n,message:t}))}}]),a}(n.Component),G=t(26),H=t.n(G),J=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChangePage=function(a,t){e.setState({page:t})},e.handleChangeRowsPerPage=function(a){e.setState({page:0,rowsPerPage:a.target.value})},e.goToCall=function(a){e.props.history.push("/call/".concat(a))},e.renderKind=function(e){return"CALL"===e?"Llamada":"SOS"===e?"S.O.S.":"Inverso"},e.state={page:0,rowsPerPage:10},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.calls,n=a.fromCalls,r=a.viewDetails,o=this.state,c=o.page,i=o.rowsPerPage;return l.a.createElement(p.K,null,l.a.createElement(p.O,null,l.a.createElement(p.Q,null,n?l.a.createElement(p.M,null,"Compa\xf1ia"):null,n?l.a.createElement(p.M,null,"Cliente"):null,l.a.createElement(p.M,null,"Tipo de Soporte"),l.a.createElement(p.M,null,"Sistema"),l.a.createElement(p.M,null,"Consultor"),l.a.createElement(p.M,null,"Estatus"),l.a.createElement(p.M,null,"Resultado"),l.a.createElement(p.M,null,"Fecha"))),l.a.createElement(p.L,null,t.slice(c*i,c*i+i).map(function(a,t){return l.a.createElement(p.Q,{key:t,className:"pointer",hover:!0,onClick:function(){return e.goToCall(a._id)}},n?l.a.createElement(p.M,null,"NOTARY"===a.client.company.kind?a.client.company.lawyer:a.client.company.name):null,n?l.a.createElement(p.M,null,a.client.name," ",a.client.last_name):null,l.a.createElement(p.M,null,e.renderKind(a.kind)),l.a.createElement(p.M,null,a.system),a.prev_db?l.a.createElement(p.M,null,a.prev_db_user):l.a.createElement(p.M,null,a.user.name," ",a.user.last_name),l.a.createElement(p.M,null,"FINALIZED"===a.status?"Finalizada":"Pendiente"),l.a.createElement(p.M,null,"UNPRODUCTIVE"===a.ending?"Improductiva":"Productiva"),l.a.createElement(p.M,null,H()(a.created_at).format("ll")))}),r?l.a.createElement(p.Q,null,l.a.createElement(p.M,{align:"right",colSpan:n?7:5},"Total de llamadas:"),l.a.createElement(p.M,{align:"center"},t.length)):null,r?l.a.createElement(p.Q,null,l.a.createElement(p.M,{align:"right",colSpan:n?7:5},"Pendientes:"," ",t.filter(function(e){return"PENDING"===e.status}).length),l.a.createElement(p.M,{align:"center"},"Finalizadas:"," ",t.filter(function(e){return"FINALIZED"===e.status}).length)):null,r?l.a.createElement(p.Q,null,l.a.createElement(p.M,{align:"right",colSpan:n?6:4},"Llamadas: ",t.filter(function(e){return"CALL"===e.kind}).length),l.a.createElement(p.M,{align:"center"},"S.O.S.: ",t.filter(function(e){return"SOS"===e.kind}).length),l.a.createElement(p.M,{align:"center"},"Inverso: ",t.filter(function(e){return"REVERSE"===e.kind}).length)):null,r?l.a.createElement(p.Q,null,l.a.createElement(p.M,{align:"center",colSpan:n?2:0},"Minotaria:"," ",t.filter(function(e){return"MINOTARIA"===e.system}).length),l.a.createElement(p.M,{align:"center"},"Calculofacil:"," ",t.filter(function(e){return"CALCULOFACIL"===e.system}).length),l.a.createElement(p.M,{align:"center"},"ListasPB:"," ",t.filter(function(e){return"LISTASPB"===e.system}).length),l.a.createElement(p.M,{align:"center"},"CFDI: ",t.filter(function(e){return"CFDI"===e.system}).length),l.a.createElement(p.M,{align:"center"},"UIF: ",t.filter(function(e){return"UIF"===e.system}).length),l.a.createElement(p.M,{align:"center",colSpan:n?2:0},"Racoo Notarios:"," ",t.filter(function(e){return"RACOO NOTARIOS"===e.system}).length)):null),l.a.createElement(p.N,null,l.a.createElement(p.Q,null,l.a.createElement(p.P,{rowsPerPageOptions:[5,10,50,100],colSpan:7,count:t.length,rowsPerPage:i,page:c,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))))}}]),a}(n.Component),Q=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).state={calls:[],fromCalls:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.company.calls.sort(function(e,a){return new Date(a.created_at).getTime()-new Date(e.created_at).getTime()});this.setState({calls:e})}},{key:"render",value:function(){var e=this.state,a=e.calls,t=e.fromCalls;return console.log(this.props),l.a.createElement(p.q,{container:!0,spacing:24},a.length<=0?l.a.createElement(p.U,{align:"center",variant:"h4",style:{width:"100%"}},"Sin llamadas"):l.a.createElement(p.D,{style:{width:"100%"}},l.a.createElement(J,Object.assign({calls:a,fromCalls:t},this.props))))}}]),a}(n.Component),K=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){var t=e.state.client;t[a.target.name]=a.target.value,console.log(t),e.setState({client:t})},e.handleSubmit=function(a){a.preventDefault(),T(e.state.client).then(function(a){e.setState({message:a.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/client/".concat(a.client))},2e3)})},e.resetForm=function(){var a=e.state.client;a={company:e.props.company._id,name:"",last_name:""},e.setState({client:a})},e.state={client:{name:"",last_name:""},openMessage:!1,message:""},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.state.client;e.company=this.props.company._id,this.setState({client:e})}},{key:"render",value:function(){var e=this.state,a=e.client,t=e.openMessage,n=e.message,r=this.props,o=r.openModal,c=r.handleClose,i=r.company;return l.a.createElement("div",null,l.a.createElement(p.h,{onClose:c,open:o,scroll:"body"},l.a.createElement(p.j,{onClose:c},"Nuevo Cliente"),l.a.createElement(p.i,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.S,{label:"Compa\xf1ia",value:"NOTARY"===i.kind?"Notaria ".concat(i.number):"".concat(i.name),margin:"normal",fullWidth:!0,disabled:!0}),l.a.createElement(p.S,{label:"Nombre",name:"name",margin:"normal",value:void 0===a.last_name||a.last_name?"".concat(a.name):"".concat(a.name," ").concat(a.last_name),onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.S,{label:"Apellido",name:"last_name",margin:"normal",value:a.last_name,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.b,{className:"buttonForm",type:"submit",onClick:c,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.b,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.H,{onClose:c,open:t,message:n}))}}]),a}(n.Component),Z=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(a){e.setState({openModal:!1})},e.handleChange=function(a,t){e.setState({value:t})},e.state={company:[],value:1,loading:!0,openModal:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;(function(e){return O.a.get("".concat(k,"/company/").concat(e),{headers:M}).then(function(e){return{error:!1,company:e.data.company,msg:"Compa\xf1ia encontradas exitosamente"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})})(this.props.match.params.id).then(function(a){setTimeout(function(){e.setState({company:a.company,loading:!1})},3e3)})}},{key:"render",value:function(){var e=this.state,a=e.company,t=e.value,n=e.loading,r=e.openModal;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.g,null):l.a.createElement("div",null,l.a.createElement(p.U,{variant:"h3"},"NOTARY"===a.kind?"Lic. ".concat(a.lawyer):a.name),"NOTARY"===a.kind?l.a.createElement(p.U,{variant:"h5"}," ","Notaria No. ",a.number):null,l.a.createElement(p.a,{position:"static",color:"default",className:"marginTabs"},l.a.createElement(p.R,{value:t,onChange:this.handleChange,indicatorColor:"secondary",textColor:"inherit",centered:!0},l.a.createElement(p.J,{icon:l.a.createElement(d.b,null),label:"Datos"}),l.a.createElement(p.J,{icon:l.a.createElement(d.g,null),label:"Usuarios"}),l.a.createElement(p.J,{icon:l.a.createElement(d.l,null),label:"Llamadas"}))),0===t&&l.a.createElement("div",null,l.a.createElement(z,{company:a})),1===t&&l.a.createElement(p.v,{component:"nav"},a.clients.map(function(e,a){return l.a.createElement(U,{key:a,user:e})})),2===t&&l.a.createElement("div",null,l.a.createElement(Q,Object.assign({company:a},this.props))),l.a.createElement(p.m,{className:"fab",size:"large",color:"primary",onClick:this.handleClick},l.a.createElement(d.a,null)),l.a.createElement(K,Object.assign({openModal:r,handleClose:this.handleClose,company:a},this.props))))}}]),a}(n.Component),$=function(e){var a=e.client;return l.a.createElement(p.q,{item:!0,md:3},l.a.createElement(p.c,null,l.a.createElement(p.e,null,l.a.createElement(p.U,{variant:"title",component:"h5"},a.name," ",a.last_name),l.a.createElement(p.U,{color:"textSecondary"},"NOTARY"===a.company.kind?"Notaria No. ".concat(a.company.number):"".concat(a.company.name))),l.a.createElement(p.d,null,l.a.createElement(p.b,{color:"secondary",component:R.a,size:"small",to:"/client/".concat(a._id)},"Ver Mas"))))},X=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState({clientSearch:a.target.value})},e.handleSearchClient=function(a){var t=e.state.clientSearch;e.setState({loading:!0}),x(t).then(function(a){setTimeout(function(){e.setState({clients:a.clients,loading:!1})},500)})},e.state={clients:[],clientSearch:"",filtered:[],loading:!0},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1})},2e3)}},{key:"render",value:function(){var e=this.state,a=e.clients,t=e.clientSearch,n=e.loading;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.g,null):l.a.createElement("div",null,l.a.createElement(p.q,{container:!0,spacing:16},l.a.createElement(p.q,{item:!0,sm:4}),l.a.createElement(p.q,{item:!0,sm:3},l.a.createElement(p.D,{elevation:1,style:{margin:"0 50px 30px 35px"}},l.a.createElement(p.t,{placeholder:"Buscar",margin:"none",value:t,onChange:this.handleChange}),l.a.createElement(p.r,{"aria-label":"Buscar",onClick:this.handleSearchClient},l.a.createElement(d.n,null))))),l.a.createElement(p.q,{container:!0,spacing:24},a.map(function(e,a){return l.a.createElement($,{key:a,client:e})}))))}}]),a}(n.Component),ee={Positions:["abogado","abogado_carpeta","ACHICHINCLE","alertas_uif","archivo","asistente","asistente de porteria","autos","caja","caja_abogado","caja_admin","caja_conciliar","caja_contador","caja_movimientos","caja_notario","caja_tarjetas","caja_vales","Cumpla\xf1ero","cumplea\xf1os","decenas","ditto","escrituras","expedientes_uif","gestor","gestores df","gestores foraneos","Hoy","IBM","indices","Mesa de Control","notario","Notario_V","pas calle","pas primera","pas registro","pas segunda","pasante","remoto","sec previos","sec protocolo","Sec Recepcion","sistemas","subir_archivos","_rfc"]},ae=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){var t=e.state.client;t[a.target.name]=a.target.value,console.log(t),e.setState({client:t})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.client;_(e.props.client._id,t).then(function(a){e.setState({message:a.msg,openMessage:!0})})},e.state={companies:[],client:{},message:"",openMessage:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;I().then(function(a){e.setState({companies:a.companies})})}},{key:"render",value:function(){var e=this.props.client,a=this.state,t=a.companies,n=a.message,r=a.openMessage;return l.a.createElement(p.q,{spacing:32,container:!0},l.a.createElement(p.q,{item:!0,sm:4,xs:!1}),l.a.createElement(p.q,{item:!0,sm:4,xs:12},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.S,{label:"Nombre",name:"name",margin:"normal",defaultValue:e.name,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{label:"Apellido",name:"last_name",margin:"normal",defaultValue:e.last_name,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{select:!0,label:"Compa\xf1ia",name:"company",margin:"normal",value:e.company._id,style:{textAlign:"left"},fullWidth:!0,onChange:this.handleChange},t.map(function(e,a){return l.a.createElement(p.B,{key:a,value:e._id},"NOTARY"===e.kind?"Notaria ".concat(e.number):"".concat(e.name))})),l.a.createElement(p.n,{variant:"outlined",fullWidth:!0,onChange:this.handleChange},l.a.createElement(p.u,{htmlFor:"select-multiple-chip"},"Puestos"),l.a.createElement(p.G,{multiple:!0,name:"positions",onChange:this.handleChange,value:e.positions,input:l.a.createElement(p.s,{id:"select-multiple-chip"}),renderValue:function(e){return l.a.createElement("div",{className:"chipsPositions"},e.map(function(e){return l.a.createElement(p.f,{key:e,label:e,color:"primary",style:{margin:"0 2.5px"}})}))}},ee.Positions.map(function(e){return l.a.createElement(p.B,{key:e,value:e},e)}))),l.a.createElement(p.S,{label:"Telefono",name:"telephone",margin:"normal",type:"number",defaultValue:e.telephone,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{label:"Extension",name:"extension",margin:"normal",type:"number",defaultValue:e.extension,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.S,{label:"Descripcion",name:"description",margin:"normal",defaultValue:e.description,multiline:!0,rowsMax:"4",fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.b,{variant:"contained",color:"primary",type:"submit"},"Guardar"))),l.a.createElement(p.q,{item:!0,sm:4,xs:!1}),l.a.createElement(p.H,{open:r,message:n}))}}]),a}(n.Component),te=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).state={calls:[],fromCalls:!1,openModal:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.client.calls.sort(function(e,a){return new Date(a.created_at).getTime()-new Date(e.created_at).getTime()});this.setState({calls:e})}},{key:"render",value:function(){var e=this.state,a=e.calls,t=e.fromCalls;return l.a.createElement("div",null,l.a.createElement(p.q,{container:!0,spacing:24},a.length<=0?l.a.createElement(p.U,{align:"center",variant:"h4",style:{width:"100%"}},"Sin llamadas"):l.a.createElement(p.D,{style:{width:"100%"}},l.a.createElement(J,Object.assign({calls:a,fromCalls:t},this.props)))))}}]),a}(n.Component),ne=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){var t=e.state.call;t[a.target.name]=a.target.value,console.log(t),e.setState({call:t})},e.handleSubmit=function(a){a.preventDefault(),L(e.state.call).then(function(a){e.setState({message:a.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/call/".concat(a.call))},2e3)})},e.resetForm=function(){var a=e.state.call;a={company:e.props.client.company._id,client:e.props.client._id,kind:"",system:"",problem:"",user:JSON.parse(localStorage.getItem("user"))._id},e.setState({call:a})},e.state={call:{company:"",client:"",kind:"",system:"",problem:"",user:""},openMessage:!1,message:"",companies:[],listClients:[]},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.state.call;e.company=this.props.client.company._id,e.client=this.props.client._id,e.user=JSON.parse(localStorage.getItem("user"))._id,this.setState({call:e})}},{key:"render",value:function(){var e=this.state,a=e.call,t=e.openMessage,n=e.message,r=this.props,o=r.openModal,c=r.handleClose,i=r.client;return console.log(a),l.a.createElement("div",null,l.a.createElement(p.h,{onClose:c,open:o,scroll:"body"},l.a.createElement(p.j,{onClose:c},"Nueva Llamada"),l.a.createElement(p.i,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.S,{label:"Compa\xf1ia",value:"NOTARY"===i.company.kind?"Notaria ".concat(i.company.number):"".concat(i.company.name),margin:"normal",fullWidth:!0,disabled:!0}),l.a.createElement(p.S,{label:"Cliente",value:"".concat(i.name," ").concat(i.last_name),margin:"normal",fullWidth:!0,disabled:!0}),l.a.createElement(p.p,{component:"legend",className:"labelsRadios"},"Tipo de Soporte"),l.a.createElement(p.F,{"aria-label":"kind",name:"kind",onChange:this.handleChange,value:a.kind,row:!0},l.a.createElement(p.o,{value:"CALL",control:l.a.createElement(p.E,null),label:"Llamada"}),l.a.createElement(p.o,{value:"SOS",control:l.a.createElement(p.E,null),label:"SOS"}),l.a.createElement(p.o,{value:"REVERSE",control:l.a.createElement(p.E,null),label:"Inverso"})),l.a.createElement(p.p,{component:"legend",className:"labelsRadios"},"Sistema"),l.a.createElement(p.F,{"aria-label":"system",name:"system",onChange:this.handleChange,value:a.system,row:!0},l.a.createElement(p.o,{value:"MINOTARIA",control:l.a.createElement(p.E,null),label:"MiNotaria"}),l.a.createElement(p.o,{value:"CALCULOFACIL",control:l.a.createElement(p.E,null),label:"CalculoFacil"}),l.a.createElement(p.o,{value:"LISTASPB",control:l.a.createElement(p.E,null),label:"ListasPB"}),l.a.createElement(p.o,{value:"CFDI",control:l.a.createElement(p.E,null),label:"CFDI"}),l.a.createElement(p.o,{value:"UIF",control:l.a.createElement(p.E,null),label:"UIF"}),l.a.createElement(p.o,{value:"RACOO NOTARIOS",control:l.a.createElement(p.E,null),label:"Racoo Notarios"})),l.a.createElement(p.S,{multiline:!0,rows:"4",label:"Problema",name:"problem",margin:"normal",onChange:this.handleChange,value:a.problem,fullWidth:!0}),l.a.createElement(p.b,{className:"buttonForm",type:"submit",onClick:c,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.b,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.H,{onClose:c,open:t,message:n}))}}]),a}(n.Component),le=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(a){e.setState({openModal:!1})},e.handleChange=function(a,t){e.setState({value:t})},e.state={client:[],value:1,loading:!0,openModal:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;(function(e){return O.a.get("".concat(k,"/client/").concat(e),{headers:M}).then(function(e){return{error:!1,client:e.data.client,msg:"Cliente encontrado exitosamente"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})})(this.props.match.params.id).then(function(a){setTimeout(function(){e.setState({client:a.client,loading:!1})},3e3)})}},{key:"render",value:function(){var e=this.state,a=e.client,t=e.value,n=e.loading,r=e.openModal;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.g,null):l.a.createElement("div",null,l.a.createElement(p.U,{variant:"h3"},a.name," ",a.last_name),l.a.createElement(p.a,{position:"static",color:"default",className:"marginTabs"},l.a.createElement(p.R,{value:t,onChange:this.handleChange,indicatorColor:"secondary",textColor:"inherit",centered:!0},l.a.createElement(p.J,{icon:l.a.createElement(d.b,null),label:"Datos"}),l.a.createElement(p.J,{icon:l.a.createElement(d.l,null),label:"Llamadas"}))),0===t&&l.a.createElement("div",null,l.a.createElement(ae,{client:a})),1===t&&l.a.createElement("div",null,l.a.createElement(te,Object.assign({client:a},this.props))),l.a.createElement(p.m,{className:"fab",size:"large",color:"primary",onClick:this.handleClick},l.a.createElement(d.a,null)),l.a.createElement(ne,Object.assign({client:a,openModal:r,handleClose:this.handleClose},this.props))))}}]),a}(n.Component),re=t(66),oe=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(a){e.setState({openModal:!1})},e.handleChangeDate=function(a,t){var n=e.state.dates;n[t]=a._d,e.setState({dates:n})},e.handleSearch=function(a){var t=e.state.dates,n=H()(t.init).format("YYYY-MM-DD"),l=H()(t.fin).format("YYYY-MM-DD");A(n,H()(l).add(1,"days").format("YYYY-MM-DD")).then(function(a){var t=a.calls.sort(function(e,a){return new Date(a.created_at).getTime()-new Date(e.created_at).getTime()});e.setState({calls:t})})},e.handleViewDetails=function(a){var t=e.state.viewDetails;e.setState({viewDetails:!t})},e.state={calls:[],dates:{init:"",fin:""},openModal:!1,loading:!0,fromCalls:!0,viewDetails:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this,a=H()(new Date).format("YYYY-MM-DD"),t=H()(new Date).format("YYYY-MM-DD");A(a,H()(t).add(1,"days").format("YYYY-MM-DD")).then(function(n){var l=n.calls.sort(function(e,a){return new Date(a.created_at).getTime()-new Date(e.created_at).getTime()}),r={init:a,fin:t};setTimeout(function(){e.setState({calls:l,dates:r,loading:!1})},3e3)})}},{key:"render",value:function(){var e=this,a=this.state,t=a.calls,n=a.loading,r=a.fromCalls,o=a.dates,c=a.viewDetails;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.g,null):l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,sm:3}),l.a.createElement(p.q,{item:!0,sm:6},l.a.createElement(re.a,{keyboard:!0,variant:"outlined",label:"Fecha Inicial",value:o.init,format:"DD/MM/YYYY",style:{margin:"0 1%"},onChange:function(a){return e.handleChangeDate(a,"init")}}),l.a.createElement(re.a,{keyboard:!0,variant:"outlined",label:"Fecha Final",value:o.fin,format:"DD/MM/YYYY",style:{margin:"0 1%"},onChange:function(a){return e.handleChangeDate(a,"fin")}}),l.a.createElement(p.r,{name:"search","aria-label":"Search",onClick:this.handleSearch},l.a.createElement(d.n,null))),l.a.createElement(p.q,{item:!0,sm:1}),l.a.createElement(p.q,{item:!0,sm:2},l.a.createElement(p.o,{control:l.a.createElement(p.I,{onChange:this.handleViewDetails}),label:"Ver Detalles"})),l.a.createElement(p.D,{style:{width:"100%"}},l.a.createElement(J,Object.assign({calls:t,fromCalls:r,viewDetails:c},this.props)))))}}]),a}(n.Component),ce=t(58),ie=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleSelect=function(a){var t=e.state.call;t.client=a._id,t.company=a.company._id,e.setState({call:t})},e.handleChange=function(a){var t=e.state.call;t[a.target.name]=a.target.value,e.setState({call:t})},e.handleClose=function(a){e.setState({openMessage:!1})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.call,n={user:JSON.parse(localStorage.getItem("user")).name,update:H()().format()};t.record.push(n),P(t._id,t).then(function(a){e.setState({message:a.msg,openMessage:!0})})},e.state={call:{},clients:[],loading:!0,message:"",openMessage:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e,a=this,t=this.props.match;(e=t.params.id,O.a.get("".concat(k,"/call/").concat(e),{headers:M}).then(function(e){return{error:!1,call:e.data.call,msg:"Llamada encontrada exitosamente"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})).then(function(e){a.setState({call:e.call})}),x("").then(function(e){e.clients.forEach(function(e){e.value=e._id,e.company.number?e.label="".concat(e.name," (Notaria ").concat(e.company.number,")"):e.label="".concat(e.name," (").concat(e.company.name,")")}),setTimeout(function(){a.setState({clients:e.clients,loading:!1})},500)})}},{key:"render",value:function(){var e=this.state,a=e.call,t=e.clients,n=e.loading,r=e.message,o=e.openMessage;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.g,null):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",{style:{margin:"0"}},a.client.name),l.a.createElement("h4",{style:{marginTop:"0"}},a.client.company.key),l.a.createElement("p",null,H()(a.created_at).format("LLLL"))),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,sm:4},l.a.createElement(ce.a,{className:"text-left",defaultValue:a.client._id,placeholder:"Cliente",isSearchable:!0,name:"client",options:t,onChange:this.handleSelect}))),l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,sm:6},l.a.createElement(p.S,{label:"Problema",name:"problem",multiline:!0,rows:"5",defaultValue:a.problem,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange})),l.a.createElement(p.q,{item:!0,sm:6},l.a.createElement(p.S,{label:"Soluci\xf3n",name:"solution",multiline:!0,rows:"5",defaultValue:a.solution,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange}))),l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,sm:2},l.a.createElement(p.n,{variant:"outlined",fullWidth:!0},l.a.createElement(p.u,{htmlFor:"outlined-system-simple"},"Sistema"),l.a.createElement(p.G,{align:"left",name:"system",value:a.system,onChange:this.handleChange,input:l.a.createElement(p.C,{labelWidth:60,name:"system",id:"outlined-system-simple"})},l.a.createElement(p.B,{value:"MINOTARIA"},"Minotaria"),l.a.createElement(p.B,{value:"CALCULOFACIL"},"Caculofacil"),l.a.createElement(p.B,{value:"LISTASPB"},"ListasPB"),l.a.createElement(p.B,{value:"CFDI"},"CFDI"),l.a.createElement(p.B,{value:"UIF"},"UIF")))),l.a.createElement(p.q,{item:!0,sm:1}),l.a.createElement(p.q,{item:!0,sm:2},l.a.createElement(p.n,{variant:"outlined",fullWidth:!0},l.a.createElement(p.u,{htmlFor:"outlined-kind-simple"},"Tipo de Soporte"),l.a.createElement(p.G,{align:"left",name:"kind",value:a.kind,onChange:this.handleChange,input:l.a.createElement(p.C,{labelWidth:120,name:"kind",id:"outlined-kind-simple"})},l.a.createElement(p.B,{value:"CALL"},"Llamada"),l.a.createElement(p.B,{value:"SOS"},"S.O.S."),l.a.createElement(p.B,{value:"REVERSE"},"Inverso")))),l.a.createElement(p.q,{item:!0,sm:1}),l.a.createElement(p.q,{item:!0,sm:3},l.a.createElement(p.p,{component:"legend",align:"left"},"Estatus:"),l.a.createElement(p.F,{"aria-label":"status",name:"status",defaultValue:a.status,onChange:this.handleChange,row:!0},l.a.createElement(p.o,{value:"PENDING",control:l.a.createElement(p.E,null),label:"Pendiente"}),l.a.createElement(p.o,{value:"FINALIZED",control:l.a.createElement(p.E,null),label:"Finalizada"}))),l.a.createElement(p.q,{item:!0,sm:3},l.a.createElement(p.p,{component:"legend",align:"left"},"Resultado:"),l.a.createElement(p.F,{"aria-label":"ending",name:"ending",defaultValue:a.ending,onChange:this.handleChange,row:!0},l.a.createElement(p.o,{value:"PRODUCTIVE",control:l.a.createElement(p.E,null),label:"Productiva"}),l.a.createElement(p.o,{value:"UNPRODUCTIVE",control:l.a.createElement(p.E,null),label:"Improductiva"})))),l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement("ul",{className:"list-records"},l.a.createElement("li",null,a.user.name," - ",H()(a.created_at).format("llll")),a.record.map(function(e,a){return l.a.createElement("li",{key:a},e.user," - ",H()(e.update).format("llll"))}))),l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,sm:12},l.a.createElement(p.b,{type:"submit",variant:"contained",color:"primary"},"Guardar")))),l.a.createElement(p.H,{open:o,autoCapitalize:1e3,onClose:this.handleClose,message:r})))}}]),a}(n.Component),se=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).handleClose=function(a){e.setState({openMessage:!1})},e.handleSelect=function(a){var t=e.state.client;t.company=a._id,e.setState({client:t})},e.handleChange=function(a){var t=e.state.client;t[a.target.name]=a.target.value,e.setState({client:t})},e.handleSubmit=function(a){a.preventDefault(),T(e.state.client).then(function(a){e.setState({message:a.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/call")},1e3)})},e.resetForm=function(){var a=e.state.client;a={name:"",extension:"",positions:"",description:""},e.setState({client:a})},e.state={client:{name:"",extension:"",positions:"",description:""},companies:[],openMessage:!1,message:""},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;O.a.get("".concat(k,"/company/all"),{headers:M}).then(function(e){return{error:!1,companies:e.data.companies,msg:"".concat(e.data.companies.length," Compa\xf1ias encontradas exitosamente")}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}}).then(function(a){a.companies.forEach(function(e){e.value=e._id,e.label=e.key}),setTimeout(function(){e.setState({companies:a.companies,loading:!1})},500)})}},{key:"render",value:function(){var e=this.state,a=e.client,t=e.companies,n=e.openMessage,r=e.message,o=this.props,c=o.openModal,i=o.handleClose;return l.a.createElement("div",null,l.a.createElement(p.h,{onClose:i,open:c,scroll:"body"},l.a.createElement(p.j,{onClose:i},"Nuevo Cliente"),l.a.createElement(p.i,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(ce.a,{className:"text-left",defaultValue:a.company,placeholder:"Compa\xf1ia",isSearchable:!0,name:"company",options:t,onChange:this.handleSelect}),l.a.createElement(p.S,{label:"Nombre",name:"name",margin:"normal",value:a.name,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.S,{label:"Puestos",name:"positions",margin:"normal",value:a.positions,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.S,{label:"Extensi\xf3n",name:"extension",margin:"normal",type:"number",value:a.extension,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.S,{label:"Descripci\xf3n",name:"description",margin:"normal",defaultValue:a.description,multiline:!0,rowsMax:"4",fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.b,{className:"buttonForm",type:"submit",onClick:i,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.b,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.H,{onClose:this.handleClose,autoHideDuration:2e3,open:n,message:r}))}}]),a}(n.Component),me=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).searchClients=function(){x("").then(function(a){a.clients.forEach(function(e){e.value=e._id,e.label="".concat(e.name," (").concat(e.company.key,")")}),setTimeout(function(){e.setState({clients:a.clients,loading:!1})},500)})},e.handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(a){e.setState({openModal:!1,openMessage:!1})},e.handleSelect=function(a){var t=e.state.call;t.client=a._id,t.company=a.company._id,e.setState({call:t})},e.handleChange=function(a){var t=e.state.call;t[a.target.name]=a.target.value,e.setState({call:t})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.call;t.user=JSON.parse(localStorage.getItem("user"))._id,L(t).then(function(a){e.setState({message:a.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/call/".concat(a.call))},2e3)})},e.state={call:{client:"",company:"",system:"MINOTARIA",kind:"CALL"},clients:[],loading:!0,message:"",openMessage:!1,openModal:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){this.searchClients()}},{key:"render",value:function(){var e=this.state,a=e.call,t=e.clients,n=e.loading,r=e.message,o=e.openMessage,c=e.openModal;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.g,null):l.a.createElement("div",null,l.a.createElement("h1",null,"Nueva Llamada"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.q,{container:!0,spacing:8},l.a.createElement(p.q,{item:!0,sm:6},l.a.createElement(p.S,{label:"Problema",name:"problem",multiline:!0,rows:"5",defaultValue:a.problem,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange})),l.a.createElement(p.q,{item:!0,sm:1}),l.a.createElement(p.q,{item:!0,sm:4,style:{marginTop:"15px"}},l.a.createElement(ce.a,{className:"text-left",defaultValue:a.client,placeholder:"Cliente",isSearchable:!0,name:"client",options:t,onChange:this.handleSelect}),l.a.createElement(p.r,{"aria-label":"Nuevo Cliente",onClick:this.searchClients},l.a.createElement(d.m,null)),l.a.createElement(p.r,{"aria-label":"Nuevo Cliente",onClick:this.handleClick},l.a.createElement(d.a,null)))),l.a.createElement(p.q,{container:!0,spacing:8},l.a.createElement(p.q,{item:!0,sm:2},l.a.createElement(p.n,{variant:"outlined",fullWidth:!0},l.a.createElement(p.u,{htmlFor:"outlined-system-simple"},"Sistema"),l.a.createElement(p.G,{align:"left",name:"system",value:a.system,onChange:this.handleChange,input:l.a.createElement(p.C,{labelWidth:60,name:"system",id:"outlined-system-simple"})},l.a.createElement(p.B,{value:"MINOTARIA"},"Minotaria"),l.a.createElement(p.B,{value:"CALCULOFACIL"},"Caculofacil"),l.a.createElement(p.B,{value:"LISTASPB"},"ListasPB"),l.a.createElement(p.B,{value:"CFDI"},"CFDI"),l.a.createElement(p.B,{value:"UIF"},"UIF")))),l.a.createElement(p.q,{item:!0,sm:1}),l.a.createElement(p.q,{item:!0,sm:2},l.a.createElement(p.n,{variant:"outlined",fullWidth:!0},l.a.createElement(p.u,{htmlFor:"outlined-kind-simple"},"Tipo de Soporte"),l.a.createElement(p.G,{align:"left",name:"kind",value:a.kind,onChange:this.handleChange,input:l.a.createElement(p.C,{labelWidth:120,name:"kind",id:"outlined-kind-simple"})},l.a.createElement(p.B,{value:"CALL"},"Llamada"),l.a.createElement(p.B,{value:"SOS"},"S.O.S."),l.a.createElement(p.B,{value:"REVERSE"},"Inverso"))))),l.a.createElement(p.q,{container:!0,spacing:8},l.a.createElement(p.q,{item:!0,sm:6},l.a.createElement(p.S,{label:"Soluci\xf3n",name:"solution",multiline:!0,rows:"5",defaultValue:a.solution,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange}))),l.a.createElement(p.q,{container:!0,spacing:8},l.a.createElement(p.q,{item:!0,sm:3},l.a.createElement(p.p,{component:"legend",align:"left"},"Resultado:"),l.a.createElement(p.F,{"aria-label":"ending",name:"ending",defaultValue:a.ending,onChange:this.handleChange,row:!0},l.a.createElement(p.o,{value:"PRODUCTIVE",control:l.a.createElement(p.E,null),label:"Productiva"}),l.a.createElement(p.o,{value:"UNPRODUCTIVE",control:l.a.createElement(p.E,null),label:"Improductiva"}))),l.a.createElement(p.q,{item:!0,sm:3},l.a.createElement(p.p,{component:"legend",align:"left"},"Estatus:"),l.a.createElement(p.F,{"aria-label":"status",name:"status",defaultValue:a.status,onChange:this.handleChange,row:!0},l.a.createElement(p.o,{value:"PENDING",control:l.a.createElement(p.E,null),label:"Pendiente"}),l.a.createElement(p.o,{value:"FINALIZED",control:l.a.createElement(p.E,null),label:"Finalizada"})))),l.a.createElement(p.q,{container:!0,spacing:24},l.a.createElement(p.q,{item:!0,sm:12},l.a.createElement(p.b,{type:"submit",variant:"contained",color:"primary"},"Guardar")))),l.a.createElement(p.H,{open:o,autoHideDuration:500,onClose:this.handleClose,message:r}),l.a.createElement(se,Object.assign({openModal:c,handleClose:this.handleClose},this.props))))}}]),a}(n.Component),ue=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(m.a)(a).call(this))).state={},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.history.push("/clients")}},{key:"render",value:function(){return l.a.createElement("div",null,"Home")}}]),a}(n.Component),he=function(){return l.a.createElement(v.a,null,l.a.createElement(C.a,{exact:!0,path:"/",render:function(e){return localStorage.getItem("token")?l.a.createElement(ue,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/clients",render:function(e){return localStorage.getItem("token")?l.a.createElement(X,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/client/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(le,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/companies",render:function(e){return localStorage.getItem("token")?l.a.createElement(B,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/company/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(Z,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/calls",render:function(e){return localStorage.getItem("token")?l.a.createElement(oe,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/call",render:function(e){return localStorage.getItem("token")?l.a.createElement(me,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/call/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(ie,e):l.a.createElement(S.a,{to:"/login"})}}),l.a.createElement(C.a,{exact:!0,path:"/login",render:function(e){return localStorage.getItem("token")?l.a.createElement(S.a,{to:"/"}):l.a.createElement(q,Object.assign({},e,{auth:"login"}))}}),l.a.createElement(C.a,{exact:!0,path:"/signup",render:function(e){return localStorage.getItem("token")?l.a.createElement(S.a,{to:"/"}):l.a.createElement(q,Object.assign({},e,{auth:"signup"}))}}))},de=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b,null),l.a.createElement(he,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=t(5663),ge=t(210);t(5659);o.a.render(l.a.createElement(function(){return l.a.createElement(pe.a,null,l.a.createElement(re.b,{utils:ge.a},l.a.createElement(de,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,a,t){e.exports=t.p+"static/media/logo.76c735f5.png"}},[[5457,2,1]]]);
//# sourceMappingURL=main.b7ff8996.chunk.js.map