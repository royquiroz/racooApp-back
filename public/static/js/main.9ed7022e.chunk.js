(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,a){e.exports=a.p+"static/media/logo_min.56ebc9da.png"},214:function(e){e.exports={1:"Aguascalientes",2:"Baja California",3:"Baja California Sur",4:"Campeche",5:"Coahuila de Zaragoza",6:"Colima",7:"Chiapas",8:"Chihuahua",9:"Ciudad de M\xe9xico",10:"Durango",11:"Guanajuato",12:"Guerrero",13:"Hidalgo",14:"Jalisco",15:"M\xe9xico",16:"Michoac\xe1n de Ocampo",17:"Morelos",18:"Nayarit",19:"Nuevo Le\xf3n",20:"Oaxaca",21:"Puebla",22:"Quer\xe9taro",23:"Quintana Roo",24:"San Luis Potos\xed",25:"Sinaloa",26:"Sonora",27:"Tabasco",28:"Tamaulipas",29:"Tlaxcala",30:"Veracruz",31:"Yucat\xe1n",32:"Zacatecas"}},5463:function(e,t,a){e.exports=a(5674)},5468:function(e,t,a){},5470:function(e,t,a){},5674:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),o=a.n(r),s=(a(5468),a(9)),c=a(10),i=a(13),m=a(11),u=a(12),d=(a(5470),a(5676)),h=a(16),p=a(1),g=a(58),E=a.n(g),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).signup=function(t){localStorage.removeItem("token"),localStorage.removeItem("user"),e.setState({message:"Cerraste Sesi\xf3n exitosamente",isOpen:!0}),setTimeout(function(){window.location="/"},1e3)},e.handleClose=function(t){e.setState({message:"",isOpen:!1})},e.state={isOpen:!1,message:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.toggleDrawer,n=this.state,r=n.isOpen,o=n.message;return l.a.createElement("div",null,l.a.createElement(p.m,{open:t,onClose:a},l.a.createElement("div",{tabIndex:0,role:"button",className:"drawerList",onClick:a,onKeyDown:a},l.a.createElement(p.w,null,l.a.createElement(p.B,null,l.a.createElement("img",{src:E.a,alt:"logo",className:"logoMenu"})),l.a.createElement(p.x,{component:d.a,to:"/companies"},l.a.createElement(p.y,null,l.a.createElement(h.c,null)),l.a.createElement(p.A,{primary:"Compa\xf1ias"})),l.a.createElement(p.x,{component:d.a,to:"/clients"},l.a.createElement(p.y,null,l.a.createElement(h.m,null)),l.a.createElement(p.A,{primary:"Clientes"})),l.a.createElement(p.x,{component:d.a,to:"/calls"},l.a.createElement(p.y,null,l.a.createElement(h.o,null)),l.a.createElement(p.A,{primary:"Llamadas"})),l.a.createElement(p.x,{component:d.a,to:"/sos"},l.a.createElement(p.y,null,l.a.createElement(h.f,null)),l.a.createElement(p.A,{primary:"SOS"}))),l.a.createElement(p.l,null),l.a.createElement(p.w,null,l.a.createElement(p.x,{button:!0},l.a.createElement(p.y,null,l.a.createElement(h.e,null)),l.a.createElement(p.A,{primary:"Perfil"})),l.a.createElement(p.x,{button:!0,onClick:this.signup},l.a.createElement(p.y,null,l.a.createElement(h.d,null)),l.a.createElement(p.A,{primary:"Cerrar Sesi\xf3n"}))))),l.a.createElement(p.I,{onClose:this.handleClose,open:r,message:o}))}}]),t}(n.Component),v=a(213),C=a.n(v),b=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).toggleDrawer=function(){var t=e.state.open;t=!t,e.setState({open:t})},e.state={user:{},open:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));this.setState({user:e})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.open;return l.a.createElement("div",{className:"root"},l.a.createElement(p.a,{position:"fixed",color:"default"},l.a.createElement(p.U,null,localStorage.getItem("token")?l.a.createElement("div",{className:"grow",align:"left"},l.a.createElement(p.s,{color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer},l.a.createElement(h.j,null)),l.a.createElement(p.c,{variant:"contained",color:"primary",style:{margin:"0 40%"},component:d.a,to:"/call"},"Nueva Llamada")):l.a.createElement(p.V,{color:"inherit",className:"grow",align:"left"},l.a.createElement("img",{src:C.a,alt:"logo",className:"logoAuth"})),localStorage.getItem("token")?l.a.createElement(p.b,{alt:"profile_pic",src:t.img_profile,className:"avatar nav-avatar"}):l.a.createElement("div",null,l.a.createElement(p.c,{component:d.a,color:"inherit",to:"/login"},"Iniciar Sesi\xf3n"),l.a.createElement(p.c,{component:d.a,color:"inherit",to:"/signup"},"Registrarse")))),l.a.createElement(f,{open:a,toggleDrawer:this.toggleDrawer}))}}]),t}(n.Component),y=a(5679),S=a(5675),N=a(5678),O=a(5635),k=a(25),I=a.n(k),T="localhost"===window.location.hostname?"http://localhost:3000/api":"https://racooapp.herokuapp.com/api",P={"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},M=function(e){return I.a.post("".concat(T,"/auth/register"),e).then(function(){return{error:!1,msg:"Usuario creado con \xe9xito"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},j=function(e){return I.a.post("".concat(T,"/auth/login"),e).then(function(e){return localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),{error:!1,msg:"Haz iniciado de sesi\xf3n correctamente"}}).catch(function(e){return{error:e.response.status,msg:e.response.data.msg}})},D=function(){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()},x=function(e){return I.a.post("".concat(T,"/restore/search"),e).then(function(e){return{error:!1,user:e.data.user}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},w=function(e){return I.a.post("".concat(T,"/restore/change"),e).then(function(e){return{error:!1,user:e.data.user,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},A=function(e,t){return I.a.get("".concat(T,"/company?name=").concat(e),{headers:P}).then(function(e){return{error:!1,companies:e.data.companies,msg:"".concat(e.data.companies.length," Compa\xf1ias encontradas exitosamente")}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},L=function(e){return console.log(e),I.a.post("".concat(T,"/company"),e,{headers:P}).then(function(e){return{error:!1,company:e.data.company._id,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},_=function(e,t){return I.a.patch("".concat(T,"/company/").concat(e),t,{headers:P}).then(function(e){return{error:!1,company:e.data.company,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},R=function(e){return I.a.get("".concat(T,"/client?name=").concat(e),{headers:P}).then(function(e){return{error:!1,clients:e.data.clients,msg:"".concat(e.data.clients.length," Clientes encontrados exitosamente")}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},V=function(e){return I.a.post("".concat(T,"/client"),e,{headers:P}).then(function(e){return{error:!1,client:e.data.client._id,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},F=function(e,t){return I.a.patch("".concat(T,"/client/").concat(e),t,{headers:P}).then(function(e){return{error:!1,client:e.data.client,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},W=function(e,t){return I.a.get("".concat(T,"/call?init=").concat(e,"&fin=").concat(t),{headers:P}).then(function(e){return{error:!1,calls:e.data.calls,msg:"".concat(e.data.calls.length," LLamadas encontradas exitosamente")}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},Y=function(e){return I.a.post("".concat(T,"/call"),e,{headers:P}).then(function(e){return{error:!1,call:e.data.call._id,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},U=function(e,t){return I.a.patch("".concat(T,"/call/").concat(e),t,{headers:P}).then(function(e){return{error:!1,call:e.data.call,msg:"Cambios guardados exitosamente"}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},G=function(e){return I.a.post("".concat(T,"/comment"),e,{headers:P}).then(function(e){return{error:!1,comment:e.data.comment._id,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},H=function(e){return I.a.get("".concat(T,"/sos/").concat(e),{headers:P}).then(function(e){return{error:!1,sos:e.data.sos,msg:"Sos encontrado exitosamente"}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})},B=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.user;a[t.target.name]=t.target.value,e.setState({user:a})},e.handleClose=function(t){e.setState({message:"",open:!1})},e.handleRegister=function(t){t.preventDefault(),M(e.state.user).then(function(t){t.error?e.setState({message:t.msg,open:!0}):(e.setState({message:t.msg,open:!0}),e.props.history.push("/login"))})},e.handleLogin=function(t){t.preventDefault(),j(e.state.user).then(function(t){t.error?e.setState({message:t.msg,open:!0}):(e.setState({message:t.msg,open:!0}),setTimeout(function(){window.location.reload()},2e3))})},e.state={user:{name:"",email:"",password:"",confirmPassword:""},open:!1,message:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.message;return l.a.createElement("div",{className:"container"},l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,xs:!0},"\xa0"),l.a.createElement(p.r,{item:!0,xs:4},l.a.createElement(p.E,{className:"auth",elevation:6},l.a.createElement("img",{src:E.a,alt:"logo",style:{width:"350px"}}),l.a.createElement("form",{onSubmit:"login"===this.props.auth?this.handleLogin:this.handleRegister},"signup"===this.props.auth?l.a.createElement(p.T,{label:"Nombre",margin:"normal",name:"name",fullWidth:!0,onChange:this.handleChange}):null,l.a.createElement(p.T,{label:"Email",margin:"normal",name:"email",fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{label:"Password",margin:"normal",name:"password",type:"password",fullWidth:!0,onChange:this.handleChange}),"signup"===this.props.auth?l.a.createElement(p.T,{label:"Confirmar Password",margin:"normal",name:"confirmPassword",type:"password",fullWidth:!0,onChange:this.handleChange}):null,l.a.createElement(p.c,{variant:"contained",color:"primary",type:"submit",className:"button"},"login"===this.props.auth?"Iniciar Sesi\xf3n":"Registrarse"))),l.a.createElement(p.c,{color:"secondary",className:"button",component:O.a,to:"/restore"},"\xbfHas olvidado la contrase\xf1a?")),l.a.createElement(p.r,{item:!0,xs:!0},"\xa0")),l.a.createElement(p.I,{onClose:this.handleClose,open:t,message:a}))}}]),t}(n.Component),z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.data;a[t.target.name]=t.target.value,e.setState({data:a})},e.handleClose=function(t){e.setState({message:"",open:!1})},e.searchUser=function(){delete e.state.data.password,x(e.state.data).then(function(t){t.error?e.setState({message:t.msg,open:!0}):e.setState({user:t.user})})},e.changePass=function(){w(e.state.data).then(function(t){t.error?e.setState({message:t.msg,open:!0}):(e.setState({user:t.user,message:t.msg,open:!0}),setTimeout(function(){e.props.history.push("/login")},1e3))})},e.state={data:{email:"",password:""},open:!1,message:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.message,n=e.user;return l.a.createElement("div",{className:"container"},l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,xs:!0},"\xa0"),l.a.createElement(p.r,{item:!0,xs:4},l.a.createElement(p.E,{className:"auth",elevation:6},l.a.createElement("img",{src:E.a,alt:"logo",style:{width:"350px"}}),l.a.createElement(p.T,{label:"Email",margin:"normal",name:"email",variant:"filled",fullWidth:!0,onChange:this.handleChange,disabled:!!n}),n?l.a.createElement(p.T,{label:"Nuevo Password",margin:"normal",name:"password",type:"password",variant:"filled",fullWidth:!0,onChange:this.handleChange}):null,n?l.a.createElement(p.c,{variant:"contained",color:"secondary",type:"submit",className:"button",onClick:this.changePass},"Cambiar contrase\xf1a"):l.a.createElement(p.c,{variant:"contained",color:"secondary",type:"submit",className:"button",onClick:this.searchUser},"Buscar usuario"))),l.a.createElement(p.r,{item:!0,xs:!0},"\xa0")),l.a.createElement(p.I,{onClose:this.handleClose,open:t,message:a}))}}]),t}(n.Component),J=a(214),Z=function(e){var t=e.company,a=e.goToCompany;return l.a.createElement(p.r,{item:!0,md:3},l.a.createElement(p.d,{onClick:function(){return a(t)},className:"pointer link"},l.a.createElement(p.f,null,l.a.createElement(p.V,{align:"right",color:"textSecondary"},t.key),l.a.createElement(p.V,{variant:"title",component:"h5"},t.name?t.name:"Lic. ".concat(t.lawyer)),t.number?l.a.createElement(p.V,{variant:"subheading",component:"h4"},"Notaria No. ",t.number):null,l.a.createElement(p.V,{color:"textSecondary"},J[t.state])),l.a.createElement(p.e,null,l.a.createElement(p.c,{color:"secondary",component:O.a,size:"small",to:"/company/".concat(t._id)},"Ver Mas"))))},K=[{number:"1",value:"Aguascalientes"},{number:"2",value:"Baja California"},{number:"3",value:"Baja California Sur"},{number:"4",value:"Campeche"},{number:"5",value:"Coahuila de Zaragoza"},{number:"6",value:"Colima"},{number:"7",value:"Chiapas"},{number:"8",value:"Chihuahua"},{number:"9",value:"Ciudad de M\xe9xico"},{number:"10",value:"Durango"},{number:"11",value:"Guanajuato"},{number:"12",value:"Guerrero"},{number:"13",value:"Hidalgo"},{number:"14",value:"Jalisco"},{number:"15",value:"M\xe9xico"},{number:"16",value:"Michoac\xe1n de Ocampo"},{number:"17",value:"Morelos"},{number:"18",value:"Nayarit"},{number:"19",value:"Nuevo Le\xf3n"},{number:"20",value:"Oaxaca"},{number:"21",value:"Puebla"},{number:"22",value:"Quer\xe9taro"},{number:"23",value:"Quintana Roo"},{number:"24",value:"San Luis Potos\xed"},{number:"25",value:"Sinaloa"},{number:"26",value:"Sonora"},{number:"27",value:"Tabasco"},{number:"28",value:"Tamaulipas"},{number:"29",value:"Tlaxcala"},{number:"30",value:"Veracruz"},{number:"31",value:"Yucat\xe1n"},{number:"32",value:"Zacatecas"}],q=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChangeKind=function(t){var a=e.state.company;t.target.checked?a.kind="COMPANY":a.kind="NOTARY",e.setState({company:a})},e.handleChange=function(t){var a=e.state.company;a[t.target.name]=t.target.value,e.setState({company:a})},e.handleSubmit=function(t){t.preventDefault(),L(e.state.company).then(function(t){e.setState({message:t.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/company/".concat(t.company))},2e3)})},e.resetForm=function(){var t=e.state.company;t={kind:"NOTARY",state:""},e.setState({company:t})},e.state={company:{kind:"NOTARY",state:""},openMessage:!1,message:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.company,a=e.openMessage,n=e.message,r=this.props,o=r.openModal,s=r.handleClose;return l.a.createElement("div",null,l.a.createElement(p.i,{onClose:s,open:o,scroll:"body"},l.a.createElement(p.k,{onClose:s},"Nueva Compa\xf1ia"),l.a.createElement(p.j,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.p,{control:l.a.createElement(p.J,{name:"kind",onChange:this.handleChangeKind}),label:"Compa\xf1ia"}),l.a.createElement(p.T,{label:"Clave",name:"key",margin:"normal",helperText:"La Clave es obligatoria",onChange:this.handleChange,required:!0,fullWidth:!0}),"COMPANY"===t.kind?l.a.createElement(p.T,{label:"Nombre de la Compa\xf1ia",name:"name",margin:"normal",onChange:this.handleChange,fullWidth:!0}):null,"NOTARY"===t.kind?l.a.createElement(p.T,{label:"No. Notaria",name:"number",type:"number",margin:"normal",onChange:this.handleChange,fullWidth:!0}):null,"NOTARY"===t.kind?l.a.createElement(p.T,{label:"Nombre del Notario",name:"lawyer",margin:"normal",onChange:this.handleChange,fullWidth:!0}):null,l.a.createElement(p.T,{select:!0,label:"Estado",name:"state",margin:"normal",value:t.state,onChange:this.handleChange,fullWidth:!0},K.map(function(e){return l.a.createElement(p.C,{key:e.number,value:e.number},e.value)})),l.a.createElement(p.c,{className:"buttonForm",type:"submit",onClick:s,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.c,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.I,{onClose:s,open:a,message:n}))}}]),t}(n.Component),Q=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).goToCompany=function(t){e.props.history.push("/company/".concat(t._id))},e.handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(t){e.setState({openModal:!1})},e.handleChange=function(t){e.setState({companySearch:t.target.value})},e.handleSearchCompany=function(t){var a=e.state.companySearch;e.setState({loading:!0}),A(a).then(function(t){setTimeout(function(){e.setState({companies:t.companies,loading:!1})},500)})},e.state={companies:[],companySearch:"",openModal:!1,loading:!0},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1})},2e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.companies,n=t.companySearch,r=t.openModal,o=t.loading;return l.a.createElement("div",{className:"container"},o?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement(p.r,{container:!0,spacing:16},l.a.createElement(p.r,{item:!0,sm:4}),l.a.createElement(p.r,{item:!0,sm:3},l.a.createElement("h2",null,"Compa\xf1ias"),l.a.createElement(p.E,{elevation:1,style:{margin:"0 50px 30px 35px"}},l.a.createElement(p.u,{placeholder:"Buscar",margin:"none",onChange:this.handleChange,value:n}),l.a.createElement(p.s,{"aria-label":"Buscar",style:{padding:"5px"},onClick:this.handleSearchCompany},l.a.createElement(h.r,null))))),l.a.createElement(p.r,{container:!0,spacing:24},a.map(function(t,a){return l.a.createElement(Z,{key:a,company:t,goToCompany:e.goToCompany})}),l.a.createElement(p.n,{className:"fab",size:"large",color:"primary",onClick:this.handleClick},l.a.createElement(h.a,null))),l.a.createElement(q,Object.assign({openModal:r,handleClose:this.handleClose},this.props))))}}]),t}(n.Component),$=function(e){var t=e.user;return l.a.createElement(p.r,{spacing:32,container:!0},l.a.createElement(p.r,{item:!0,sm:4,xs:!1}),l.a.createElement(p.r,{item:!0,sm:4,xs:12},l.a.createElement(p.x,{component:O.a,to:"/client/".concat(t._id),button:!0},l.a.createElement(p.y,null,l.a.createElement(h.l,null)),l.a.createElement(p.A,{primary:"".concat(t.name," ").concat(void 0===t.last_name?"":t.last_name)}),l.a.createElement(p.z,null,l.a.createElement(p.s,{"aria-label":"Comments"},l.a.createElement(h.n,null))))),l.a.createElement(p.r,{item:!0,sm:4,xs:!1}))},X=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChangeKind=function(t){var a=e.props.company;t.target.checked?a.kind="COMPANY":a.kind="NOTARY",e.setState({company:a})},e.handleChange=function(t){var a=e.state.company;a[t.target.name]=t.target.value,console.log(a),e.setState({company:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.company;_(e.props.company._id,a).then(function(t){e.setState({message:t.msg,openMessage:!0})})},e.state={company:{},kind:"NOTARY",message:"",openMessage:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.company,t=this.state,a=t.message,n=t.openMessage;return l.a.createElement(p.r,{spacing:32,container:!0},l.a.createElement(p.r,{item:!0,sm:4,xs:!1}),l.a.createElement(p.r,{item:!0,sm:4,xs:12},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.p,{control:l.a.createElement(p.J,{name:"kind",checked:"COMPANY"===e.kind,onChange:this.handleChangeKind}),label:"Compa\xf1ia"}),"COMPANY"===e.kind?l.a.createElement(p.T,{label:"Nombre de la Compa\xf1ia",name:"name",margin:"normal",defaultValue:e.name,fullWidth:!0,onChange:this.handleChange}):null,"NOTARY"===e.kind?l.a.createElement(p.T,{label:"Nombre del Notario",name:"lawyer",margin:"normal",defaultValue:e.lawyer,fullWidth:!0,onChange:this.handleChange}):null,"NOTARY"===e.kind?l.a.createElement(p.T,{label:"Numero de Notaria",name:"number",type:"number",margin:"normal",defaultValue:e.number,fullWidth:!0,onChange:this.handleChange}):null,l.a.createElement(p.T,{label:"Clave",name:"key",margin:"normal",defaultValue:e.key,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{label:"Telefono",name:"telephone",margin:"normal",type:"number",defaultValue:e.telephone,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{select:!0,label:"Estado",name:"state",margin:"normal",value:e.state,style:{textAlign:"left"},fullWidth:!0,onChange:this.handleChange},K.map(function(e){return l.a.createElement(p.C,{key:e.number,value:e.number},e.value)})),l.a.createElement(p.c,{variant:"contained",color:"primary",type:"submit"},"Guardar"))),l.a.createElement(p.r,{item:!0,sm:4,xs:!1}),l.a.createElement(p.I,{open:n,message:a}))}}]),t}(n.Component),ee=a(23),te=a.n(ee),ae=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChangePage=function(t,a){e.setState({page:a})},e.handleChangeRowsPerPage=function(t){e.setState({page:0,rowsPerPage:t.target.value})},e.goToCall=function(t){e.props.history.push("/call/".concat(t))},e.renderStatus=function(e){return"FINALIZED"===e?"Finalizado":"PENDING DEVELOPMENT"===e?"Pendiente Desarrollo":"PENDING SUPPORT"===e?"Pendiente Soporte":"PENDING VISITS"===e?"Pendiente Visitas":"Ventas"},e.renderKind=function(e){return"CALL"===e?"Llamada":"SOS"===e?"S.O.S.":"Inverso"},e.state={page:0,rowsPerPage:10},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.calls,n=t.fromCalls,r=t.viewDetails,o=this.state,s=o.page,c=o.rowsPerPage;return l.a.createElement(p.L,null,l.a.createElement(p.P,null,l.a.createElement(p.R,null,n?l.a.createElement(p.N,null,"Compa\xf1ia"):null,n?l.a.createElement(p.N,null,"Cliente/Problema"):l.a.createElement(p.N,null,"Problema"),l.a.createElement(p.N,null,"Tipo de Soporte"),l.a.createElement(p.N,null,"Sistema"),l.a.createElement(p.N,null,"Consultor"),l.a.createElement(p.N,null,"Estatus"),l.a.createElement(p.N,null,"Resultado"),l.a.createElement(p.N,null,"Fecha"),l.a.createElement(p.N,null,"Asana"))),l.a.createElement(p.M,null,a.slice(s*c,s*c+c).map(function(t,a){return l.a.createElement(p.R,{key:a,hover:!0,className:t.status.includes("PENDING")?"color-pending pointer":"pointer",onClick:function(){return e.goToCall(t._id)}},n?l.a.createElement(p.N,null,"NOTARY"===t.client.company.kind?t.client.company.lawyer:t.client.company.name):null,n?l.a.createElement(p.N,null,l.a.createElement("div",{style:{fontWeight:"bold"}},t.client.name," ",t.client.last_name)," ",l.a.createElement("br",null),t.problem.length>75?"".concat(t.problem.substring(0,75),"..."):t.problem):l.a.createElement(p.N,null,t.problem.length>75?"".concat(t.problem.substring(0,75),"..."):t.problem),l.a.createElement(p.N,null,e.renderKind(t.kind)),l.a.createElement(p.N,null,t.system),t.prev_db?l.a.createElement(p.N,null,t.prev_db_user):l.a.createElement(p.N,null,t.user.name," ",t.user.last_name),l.a.createElement(p.N,null,e.renderStatus(t.status)),l.a.createElement(p.N,null,"UNPRODUCTIVE"===t.ending?"Improductiva":"Productiva"),l.a.createElement(p.N,null,te()(t.created_at).format("L")),l.a.createElement(p.N,null,t.link?l.a.createElement("a",{target:"_blank",href:t.link,rel:"noopener noreferrer"},l.a.createElement(h.i,null)):null))}),r?l.a.createElement(p.R,null,l.a.createElement(p.N,{align:"right",colSpan:n?8:6},"Total de llamadas:"),l.a.createElement(p.N,{align:"center"},a.length)):null,r?l.a.createElement(p.R,null,l.a.createElement(p.N,{align:"right",colSpan:n?5:3},"Ventas: ",a.filter(function(e){return"SALES"===e.status}).length),l.a.createElement(p.N,{align:"center"},"Pendientes Soporte:"," ",a.filter(function(e){return"PENDING SUPPORT"===e.status}).length),l.a.createElement(p.N,{align:"center"},"Pendientes Desarrollo:"," ",a.filter(function(e){return"PENDING DEVELOPMENT"===e.status}).length),l.a.createElement(p.N,{align:"center"},"Pendientes Visitas:"," ",a.filter(function(e){return"PENDING VISITS"===e.status}).length),l.a.createElement(p.N,{align:"center"},"Finalizadas:"," ",a.filter(function(e){return"FINALIZED"===e.status}).length)):null,r?l.a.createElement(p.R,null,l.a.createElement(p.N,{align:"right",colSpan:n?7:5},"Llamadas: ",a.filter(function(e){return"CALL"===e.kind}).length),l.a.createElement(p.N,{align:"center"},"S.O.S.: ",a.filter(function(e){return"SOS"===e.kind}).length),l.a.createElement(p.N,{align:"center"},"Inverso: ",a.filter(function(e){return"REVERSE"===e.kind}).length)):null,r?l.a.createElement(p.R,null,l.a.createElement(p.N,{align:"center",colSpan:n?3:1},"Minotaria:"," ",a.filter(function(e){return"MINOTARIA"===e.system}).length),l.a.createElement(p.N,{align:"center"},"Calculofacil:"," ",a.filter(function(e){return"CALCULOFACIL"===e.system}).length),l.a.createElement(p.N,{align:"center"},"ListasPB:"," ",a.filter(function(e){return"LISTASPB"===e.system}).length),l.a.createElement(p.N,{align:"center"},"CFDI: ",a.filter(function(e){return"CFDI"===e.system}).length),l.a.createElement(p.N,{align:"center"},"UIF: ",a.filter(function(e){return"UIF"===e.system}).length),l.a.createElement(p.N,{align:"center",colSpan:n?3:1},"Racoo Notarios:"," ",a.filter(function(e){return"RACOO NOTARIOS"===e.system}).length)):null),l.a.createElement(p.O,null,l.a.createElement(p.R,null,l.a.createElement(p.Q,{labelRowsPerPage:"Registros por Pagina",rowsPerPageOptions:[5,10,50,100],colSpan:8,count:a.length,rowsPerPage:c,page:s,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))))}}]),t}(n.Component),ne=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={calls:[],fromCalls:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.company.calls.sort(function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()});this.setState({calls:e})}},{key:"render",value:function(){var e=this.state,t=e.calls,a=e.fromCalls;return console.log(this.props),l.a.createElement(p.r,{container:!0,spacing:24},t.length<=0?l.a.createElement(p.V,{align:"center",variant:"h4",style:{width:"100%"}},"Sin llamadas"):l.a.createElement(p.E,{style:{width:"100%"}},l.a.createElement(ae,Object.assign({calls:t,fromCalls:a},this.props))))}}]),t}(n.Component),le=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.client;a[t.target.name]=t.target.value,console.log(a),e.setState({client:a})},e.handleSubmit=function(t){t.preventDefault(),V(e.state.client).then(function(t){e.setState({message:t.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/client/".concat(t.client))},2e3)})},e.resetForm=function(){var t=e.state.client;t={company:e.props.company._id,name:"",last_name:""},e.setState({client:t})},e.state={client:{name:"",last_name:""},openMessage:!1,message:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.client;e.company=this.props.company._id,this.setState({client:e})}},{key:"render",value:function(){var e=this.state,t=e.client,a=e.openMessage,n=e.message,r=this.props,o=r.openModal,s=r.handleClose,c=r.company;return l.a.createElement("div",null,l.a.createElement(p.i,{onClose:s,open:o,scroll:"body"},l.a.createElement(p.k,{onClose:s},"Nuevo Cliente"),l.a.createElement(p.j,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.T,{label:"Compa\xf1ia",value:"NOTARY"===c.kind?"Notaria ".concat(c.number):"".concat(c.name),margin:"normal",fullWidth:!0,disabled:!0}),l.a.createElement(p.T,{label:"Nombre",name:"name",margin:"normal",value:void 0===t.last_name||t.last_name?"".concat(t.name):"".concat(t.name," ").concat(t.last_name),onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.T,{label:"Apellido",name:"last_name",margin:"normal",value:t.last_name,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.c,{className:"buttonForm",type:"submit",onClick:s,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.c,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.I,{onClose:s,open:a,message:n}))}}]),t}(n.Component),re=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(t){e.setState({openModal:!1})},e.handleChange=function(t,a){e.setState({value:a})},e.state={company:[],value:1,loading:!0,openModal:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;(function(e){return I.a.get("".concat(T,"/company/").concat(e),{headers:P}).then(function(e){return{error:!1,company:e.data.company,msg:"Compa\xf1ia encontradas exitosamente"}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})})(this.props.match.params.id).then(function(t){setTimeout(function(){e.setState({company:t.company,loading:!1})},3e3)})}},{key:"render",value:function(){var e=this.state,t=e.company,a=e.value,n=e.loading,r=e.openModal;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement(p.V,{variant:"h3"},"NOTARY"===t.kind?"Lic. ".concat(t.lawyer):t.name),"NOTARY"===t.kind?l.a.createElement(p.V,{variant:"h5"}," ","Notaria No. ",t.number):null,l.a.createElement(p.a,{position:"static",color:"default",className:"marginTabs"},l.a.createElement(p.S,{value:a,onChange:this.handleChange,indicatorColor:"secondary",textColor:"inherit",centered:!0},l.a.createElement(p.K,{icon:l.a.createElement(h.b,null),label:"Datos"}),l.a.createElement(p.K,{icon:l.a.createElement(h.k,null),label:"Usuarios"}),l.a.createElement(p.K,{icon:l.a.createElement(h.p,null),label:"Llamadas"}))),0===a&&l.a.createElement("div",null,l.a.createElement(X,{company:t})),1===a&&l.a.createElement(p.w,{component:"nav"},t.clients.map(function(e,t){return l.a.createElement($,{key:t,user:e})})),2===a&&l.a.createElement("div",null,l.a.createElement(ne,Object.assign({company:t},this.props))),l.a.createElement(p.n,{className:"fab",size:"large",color:"primary",onClick:this.handleClick},l.a.createElement(h.a,null)),l.a.createElement(le,Object.assign({openModal:r,handleClose:this.handleClose,company:t},this.props))))}}]),t}(n.Component),oe=function(e){var t=e.client,a=e.goToClient;return l.a.createElement(p.r,{item:!0,md:3},l.a.createElement(p.d,{onClick:function(){return a(t)},className:"pointer link"},l.a.createElement(p.f,null,l.a.createElement(p.V,{variant:"title",component:"h5"},t.name," ",t.last_name),l.a.createElement(p.V,{color:"textSecondary"},"NOTARY"===t.company.kind?"Notaria No. ".concat(t.company.number):"".concat(t.company.name))),l.a.createElement(p.e,null,l.a.createElement(p.c,{color:"secondary",component:O.a,size:"small",to:"/client/".concat(t._id)},"Ver Mas"))))},se=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).goToClient=function(t){e.props.history.push("/client/".concat(t._id))},e.handleChange=function(t){e.setState({clientSearch:t.target.value})},e.handleSearchClient=function(t){var a=e.state.clientSearch;e.setState({loading:!0}),R(a).then(function(t){setTimeout(function(){e.setState({clients:t.clients,loading:!1})},500)})},e.state={clients:[],clientSearch:"",filtered:[],loading:!0},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1})},2e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.clients,n=t.clientSearch,r=t.loading;return l.a.createElement("div",{className:"container"},r?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement(p.r,{container:!0,spacing:16},l.a.createElement(p.r,{item:!0,sm:4}),l.a.createElement(p.r,{item:!0,sm:3},l.a.createElement("h2",null,"Clientes"),l.a.createElement(p.E,{elevation:1,style:{margin:"0 50px 30px 35px"}},l.a.createElement(p.u,{placeholder:"Buscar",margin:"none",value:n,onChange:this.handleChange}),l.a.createElement(p.s,{"aria-label":"Buscar",style:{padding:"5px"},onClick:this.handleSearchClient},l.a.createElement(h.r,null))))),l.a.createElement(p.r,{container:!0,spacing:24},a.map(function(t,a){return l.a.createElement(oe,{key:a,client:t,goToClient:e.goToClient})}))))}}]),t}(n.Component),ce={Positions:["abogado","abogado_carpeta","ACHICHINCLE","alertas_uif","archivo","asistente","asistente de porteria","autos","caja","caja_abogado","caja_admin","caja_conciliar","caja_contador","caja_movimientos","caja_notario","caja_tarjetas","caja_vales","Cumpla\xf1ero","cumplea\xf1os","decenas","ditto","escrituras","expedientes_uif","gestor","gestores df","gestores foraneos","Hoy","IBM","indices","Mesa de Control","notario","Notario_V","pas calle","pas primera","pas registro","pas segunda","pasante","remoto","sec previos","sec protocolo","Sec Recepcion","sistemas","subir_archivos","_rfc"]},ie=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.client;a[t.target.name]=t.target.value,console.log(a),e.setState({client:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.client;F(e.props.client._id,a).then(function(t){e.setState({message:t.msg,openMessage:!0})})},e.state={companies:[],client:{},message:"",openMessage:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;A().then(function(t){e.setState({companies:t.companies})})}},{key:"render",value:function(){var e=this.props.client,t=this.state,a=t.companies,n=t.message,r=t.openMessage;return l.a.createElement(p.r,{spacing:32,container:!0},l.a.createElement(p.r,{item:!0,sm:4,xs:!1}),l.a.createElement(p.r,{item:!0,sm:4,xs:12},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.T,{label:"Nombre",name:"name",margin:"normal",defaultValue:e.name,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{label:"Apellido",name:"last_name",margin:"normal",defaultValue:e.last_name,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{select:!0,label:"Compa\xf1ia",name:"company",margin:"normal",value:e.company._id,style:{textAlign:"left"},fullWidth:!0,onChange:this.handleChange},a.map(function(e,t){return l.a.createElement(p.C,{key:t,value:e._id},"NOTARY"===e.kind?"Notaria ".concat(e.number):"".concat(e.name))})),l.a.createElement(p.o,{variant:"outlined",fullWidth:!0,onChange:this.handleChange},l.a.createElement(p.v,{htmlFor:"select-multiple-chip"},"Puestos"),l.a.createElement(p.H,{multiple:!0,name:"positions",onChange:this.handleChange,value:e.positions,input:l.a.createElement(p.t,{id:"select-multiple-chip"}),renderValue:function(e){return l.a.createElement("div",{className:"chipsPositions"},e.map(function(e){return l.a.createElement(p.g,{key:e,label:e,color:"primary",style:{margin:"0 2.5px"}})}))}},ce.Positions.map(function(e){return l.a.createElement(p.C,{key:e,value:e},e)}))),l.a.createElement(p.T,{label:"Telefono",name:"telephone",margin:"normal",type:"number",defaultValue:e.telephone,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{label:"Extension",name:"extension",margin:"normal",type:"number",defaultValue:e.extension,fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.T,{label:"Descripcion",name:"description",margin:"normal",defaultValue:e.description,multiline:!0,rowsMax:"4",fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.c,{variant:"contained",color:"primary",type:"submit"},"Guardar"))),l.a.createElement(p.r,{item:!0,sm:4,xs:!1}),l.a.createElement(p.I,{open:r,message:n}))}}]),t}(n.Component),me=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={calls:[],fromCalls:!1,openModal:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.client.calls.sort(function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()});this.setState({calls:e})}},{key:"render",value:function(){var e=this.state,t=e.calls,a=e.fromCalls;return l.a.createElement("div",null,l.a.createElement(p.r,{container:!0,spacing:24},t.length<=0?l.a.createElement(p.V,{align:"center",variant:"h4",style:{width:"100%"}},"Sin llamadas"):l.a.createElement(p.E,{style:{width:"100%"}},l.a.createElement(ae,Object.assign({calls:t,fromCalls:a},this.props)))))}}]),t}(n.Component),ue=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(t){e.setState({openModal:!1})},e.handleChange=function(t,a){e.setState({value:a})},e.state={client:[],value:1,loading:!0,openModal:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;(function(e){return I.a.get("".concat(T,"/client/").concat(e),{headers:P}).then(function(e){return{error:!1,client:e.data.client,msg:"Cliente encontrado exitosamente"}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})})(this.props.match.params.id).then(function(t){setTimeout(function(){e.setState({client:t.client,loading:!1})},3e3)})}},{key:"render",value:function(){var e=this.state,t=e.client,a=e.value,n=e.loading;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement(p.V,{variant:"h3"},t.name," ",t.last_name),l.a.createElement(p.a,{position:"static",color:"default",className:"marginTabs"},l.a.createElement(p.S,{value:a,onChange:this.handleChange,indicatorColor:"secondary",textColor:"inherit",centered:!0},l.a.createElement(p.K,{icon:l.a.createElement(h.b,null),label:"Datos"}),l.a.createElement(p.K,{icon:l.a.createElement(h.p,null),label:"Llamadas"}))),0===a&&l.a.createElement("div",null,l.a.createElement(ie,{client:t})),1===a&&l.a.createElement("div",null,l.a.createElement(me,Object.assign({client:t},this.props)))))}}]),t}(n.Component),de=a(68),he=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.calls;a[t.target.name]=t.target.value,e.setState({calls:a})},e.changeProps=function(t){e.handleChange(t),e.props.handleFilter(e.state.calls.status,e.state.calls.kind,e.state.calls.system,e.state.calls.user)},e.state={calls:{status:"",kind:"",system:"",user:""},users:[]},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;I.a.get("".concat(T,"/user"),{headers:P}).then(function(e){return{error:!1,users:e.data.users,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}}).then(function(t){e.setState({users:t.users})})}},{key:"render",value:function(){return l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-status-simple"},"Estatus"),l.a.createElement(p.H,{align:"left",name:"status",value:this.state.calls.status,onChange:this.changeProps,input:l.a.createElement(p.D,{labelWidth:60,name:"status",id:"outlined-status-simple"})},l.a.createElement(p.C,{value:""},l.a.createElement("em",null,"Ninguno")),l.a.createElement(p.C,{value:"FINALIZED"},"Finalizada"),l.a.createElement(p.C,{value:"PENDING DEVELOPMENT"},"Pendiente Desarrollo"),l.a.createElement(p.C,{value:"PENDING SUPPORT"},"Pendiente Soporte"),l.a.createElement(p.C,{value:"PENDING VISITS"},"Pendiente Visitas"),l.a.createElement(p.C,{value:"SALES"},"Ventas")))),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-kind-simple"},"Tipo de Soporte"),l.a.createElement(p.H,{align:"left",name:"kind",value:this.state.calls.kind,onChange:this.changeProps,input:l.a.createElement(p.D,{labelWidth:120,name:"kind",id:"outlined-kind-simple"})},l.a.createElement(p.C,{value:""},l.a.createElement("em",null,"Ninguno")),l.a.createElement(p.C,{value:"CALL"},"Llamada"),l.a.createElement(p.C,{value:"SOS"},"S.O.S."),l.a.createElement(p.C,{value:"REVERSE"},"Inverso")))),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-system-simple"},"Sistema"),l.a.createElement(p.H,{align:"left",name:"system",value:this.state.calls.system,onChange:this.changeProps,input:l.a.createElement(p.D,{labelWidth:60,name:"system",id:"outlined-system-simple"})},l.a.createElement(p.C,{value:""},l.a.createElement("em",null,"Ninguno")),l.a.createElement(p.C,{value:"MINOTARIA"},"Minotaria"),l.a.createElement(p.C,{value:"CALCULOFACIL"},"Caculofacil"),l.a.createElement(p.C,{value:"LISTASPB"},"ListasPB"),l.a.createElement(p.C,{value:"CFDI"},"CFDI"),l.a.createElement(p.C,{value:"UIF"},"UIF"),l.a.createElement(p.C,{value:"RACOO NOTARIOS"},"Racoo Notarios"),l.a.createElement(p.C,{value:"MINOTARIA/IMPLEMENTACION"},"Minotaria(Implementaci\xf3n)")))),te()(this.props.date.init).isSameOrAfter("2019-02-25")?l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-user-simple"},"Consultor"),l.a.createElement(p.H,{align:"left",name:"user",value:this.state.calls.user,onChange:this.changeProps,input:l.a.createElement(p.D,{labelWidth:120,name:"user",id:"outlined-user-simple"})},l.a.createElement(p.C,{value:""},l.a.createElement("em",null,"Ninguno")),this.state.users.map(function(e,t){return l.a.createElement(p.C,{key:t,value:e._id},e.name)})))):null)}}]),t}(n.Component),pe=function(e,t,a,n,l){return""!==t&&""===a&&""===n&&""===l?e.status===t:""===t&&""!==a&&""===n&&""===l?e.kind===a:""===t&&""===a&&""!==n&&""===l?e.system===n:""===t&&""===a&&""===n&&""!==l?e.user._id===l:""!==t&&""!==a&&""===n&&""===l?e.status===t&&e.kind===a:""===t&&""!==a&&""!==n&&""===l?e.kind===a&&e.system===n:""===t&&""===a&&""!==n&&""!==l?e.system===n&&e.user._id===l:""!==t&&""===a&&""!==n&&""===l?e.status===t&&e.system===n:""!==t&&""===a&&""===n&&""!==l?e.status===t&&e.user._id===l:""===t&&""!==a&&""===n&&""!==l?e.kind===a&&e.user._id===l:""!==t&&""!==a&&""!==n&&""===l?e.status===t&&e.kind===a&&e.system===n:""===t&&""!==a&&""!==n&&""!==l?e.kind===a&&e.system===n&&e.user._id===l:""!==t&&""===a&&""!==n&&""!==l?e.status===t&&e.system===n&&e.user._id===l:""!==t&&""!==a&&""===n&&""!==l?e.status===t&&e.kind===a&&e.user._id===l:""!==t&&""!==a&&""!==n?e.status===t&&e.kind===a&&e.system===n:void 0},ge=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(t){e.setState({openModal:!1})},e.handleChangeDate=function(t,a){var n=e.state.dates;n[a]=t._d,e.setState({dates:n})},e.handleSearch=function(t){var a=e.state.dates,n=te()(a.init).format("YYYY-MM-DD"),l=te()(a.fin).format("YYYY-MM-DD");W(n,te()(l).add(1,"days").format("YYYY-MM-DD")).then(function(t){var a=t.calls.sort(function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()});e.setState({calls:a,isFilter:!1})})},e.handleViewDetails=function(t){var a=e.state.viewDetails;e.setState({viewDetails:!a})},e.handleViewFilters=function(t){var a=e.state.viewFilters;e.setState({viewFilters:!a})},e.handleFilter=function(t,a,n,l){""===t&&""===a&&""===n&&""===l?e.setState({isFilter:!1}):e.setState({isFilter:!0,Callsfiltered:e.state.calls.filter(function(e){return pe(e,t,a,n,l)})})},e.state={calls:[],dates:{init:"",fin:""},openModal:!1,loading:!0,fromCalls:!0,viewDetails:!1,Callsfiltered:[],isFilter:!1,viewFilters:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=te()(new Date).format("YYYY-MM-DD"),a=te()(new Date).format("YYYY-MM-DD");W(t,te()(a).add(1,"days").format("YYYY-MM-DD")).then(function(n){var l=n.calls.sort(function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}),r={init:t,fin:a};setTimeout(function(){e.setState({calls:l,dates:r,loading:!1})},3e3)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.calls,n=t.loading,r=t.fromCalls,o=t.dates,s=t.viewDetails,c=t.Callsfiltered,i=t.isFilter,m=t.viewFilters;return l.a.createElement("div",{className:"container calls-table"},n?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:3}),l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(de.a,{keyboard:!0,variant:"outlined",label:"Fecha Inicial",value:o.init,format:"DD/MM/YYYY",style:{margin:"0 1%"},onChange:function(t){return e.handleChangeDate(t,"init")}}),l.a.createElement(de.a,{keyboard:!0,variant:"outlined",label:"Fecha Final",value:o.fin,format:"DD/MM/YYYY",style:{margin:"0 1%"},onChange:function(t){return e.handleChangeDate(t,"fin")}}),l.a.createElement(p.s,{name:"search","aria-label":"Search",onClick:this.handleSearch},l.a.createElement(h.r,null))),l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.p,{control:l.a.createElement(p.J,{onChange:this.handleViewFilters}),label:"Filtros"})),l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.p,{control:l.a.createElement(p.J,{onChange:this.handleViewDetails}),label:"Detalles"}))),m?l.a.createElement(he,{handleFilter:this.handleFilter,date:o}):null,l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:12},a.length>0?l.a.createElement(p.E,{className:"width100"},l.a.createElement(ae,Object.assign({calls:i?c:a,fromCalls:r,viewDetails:s},this.props))):l.a.createElement("h1",{className:"width100"},"Sin Resultados")))))}}]),t}(n.Component),Ee=function(e){var t=e.comment,a=e.handleChange,n=e.handleSubmit;return l.a.createElement(p.r,{container:!0,spacing:8,className:"separator-box-comments"},l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.b,{alt:"profile_pic",src:"https://res.cloudinary.com/royquiroz/image/upload/v1547066938/male-face01_n03jts.png",className:"avatar comments-avatar"})),l.a.createElement(p.r,{item:!0,sm:11},l.a.createElement(p.E,{elevation:1,className:"paper-comments"},l.a.createElement("form",{onSubmit:n,className:"box-comments"},l.a.createElement(p.u,{label:"Comentario",name:"comment",placeholder:"Escribe tu comentario...",value:t.comment,rowsMax:"3",fullWidth:!0,multiline:!0,onChange:a}),l.a.createElement(p.c,{type:"submit",variant:"text",color:"primary"},"Comentar")))))},fe=a(216),ve=a.n(fe),Ce=function(e){var t=e.comment;return l.a.createElement(p.r,{container:!0,spacing:8,className:"separator-comments"},l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.b,{alt:"profile_pic",src:t.user.img_profile,className:"avatar comments-avatar"})),l.a.createElement(p.r,{item:!0,sm:11},l.a.createElement(p.V,{variant:"subheading",align:"left",gutterBottom:!0},l.a.createElement("span",{className:"title-comments"},t.user.name)," ",l.a.createElement("span",{className:"date-comments"},te()(t.created_at).startOf().fromNow())),l.a.createElement(ve.a,null,l.a.createElement("pre",{className:"comments"},t.comment)),l.a.createElement(p.l,null)))},be=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.comment;a.comment=t.target.value,e.setState({comment:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.comment;a.user=JSON.parse(localStorage.getItem("user"))._id,a.call=e.props.callId,a.comment.length>0&&G(a).then(function(e){window.location.reload()}),e.cleanComments()},e.cleanComments=function(){var t=e.state.comment;t={user:"",comment:"",call:""},e.setState({comment:t})},e.state={comment:{user:"",comment:"",call:""},comments:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.comments;e=void 0===this.props.comments?[]:this.props.comments.reverse(),this.setState({comments:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"comments"},l.a.createElement(Ee,{comment:this.state.comment,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),this.state.comments?this.state.comments.map(function(e,t){return l.a.createElement(Ce,{key:t,comment:e})}):null)}}]),t}(n.Component),ye=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.state={open:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p.n,{color:"secondary",onClick:this.handleClickOpen},l.a.createElement(h.h,null)),l.a.createElement(p.i,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,"aria-labelledby":"form-dialog-title"},l.a.createElement(p.j,null,l.a.createElement(p.T,{autoFocus:!0,margin:"dense",id:"link",name:"link",label:"Link Asana",type:"text",value:this.props.link,onChange:this.props.handleChange,fullWidth:!0}))))}}]),t}(n.Component),Se=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).history=function(t){var a=e.state.indexHistory;a=a===t?"":t,e.setState({indexHistory:a})},e.handleChange=function(t){var a=e.state.call;a[t.target.name]=t.target.value,e.setState({call:a})},e.handleClose=function(t){e.setState({openMessage:!1})},e.createHistory=function(){var t=e.state.call,a={problema:t.problem,solucion:t.solution,sistema:t.system,soporte:t.kind,estatus:t.status,resultado:t.ending};return"CALL"===a.soporte?a.soporte="Llamada":"SOS"===a.soporte?a.soporte="S.O.S.":a.soporte="Inverso","FINALIZED"===a.estatus?a.estatus="Finalizado":"PENDING DEVELOPMENT"===a.estatus?a.estatus="Pendiente Desarrollo":"PENDING SUPPORT"===a.estatus?a.estatus="Pendiente Soporte":"PENDING VISITS"===a.estatus?a.estatus="Pendiente Visitas":a.estatus="Ventas","PRODUCTIVE"===a.resultado?a.resultado="Productiva":a.resultado="Improductiva",a},e.toggleRecord=function(){var t=e.state.showRecord;e.setState({showRecord:!t})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.call,n=e.createHistory(),l={user:JSON.parse(localStorage.getItem("user")).name,update:te()().format(),history:n};JSON.stringify(a.record[0].history)!==JSON.stringify(n)&&a.record.unshift(l),U(a._id,a).then(function(t){e.setState({message:t.msg,openMessage:!0})})},e.state={call:{link:""},loading:!0,message:"",openMessage:!1,showRecord:!1,indexHistory:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e,t=this,a=this.props.match;(e=a.params.id,I.a.get("".concat(T,"/call/").concat(e),{headers:P}).then(function(e){return{error:!1,call:e.data.call,msg:"Llamada encontrada exitosamente"}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})).then(function(e){t.setState({call:e.call,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.call,n=t.loading,r=t.message,o=t.openMessage,s=t.showRecord,c=t.indexHistory;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",{style:{margin:"0"}},l.a.createElement(O.a,{target:"_blank",to:"/client/".concat(a.client._id),className:"link link-words"},a.client.name)," ",l.a.createElement("span",{className:"telephone-client"},"Tel. ",a.client.telephone," Ext. ",a.client.extension)),l.a.createElement("h4",{style:{marginTop:"0"}},l.a.createElement(O.a,{target:"_blank",to:"/company/".concat(a.client.company._id),className:"link link-words"},a.client.company.key)," ",l.a.createElement("span",{className:"telephone-company"},"Tel. ",a.client.company.telephone)),l.a.createElement("p",null,te()(a.created_at).format("LLLL"))),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(p.T,{label:"Problema",name:"problem",multiline:!0,rows:"5",defaultValue:a.problem,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange})),l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(p.T,{label:"Soluci\xf3n",name:"solution",multiline:!0,rows:"5",defaultValue:a.solution,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange}))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-system-simple"},"Sistema"),l.a.createElement(p.H,{align:"left",name:"system",value:a.system,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:60,name:"system",id:"outlined-system-simple"})},l.a.createElement(p.C,{value:"MINOTARIA"},"Minotaria"),l.a.createElement(p.C,{value:"CALCULOFACIL"},"Caculofacil"),l.a.createElement(p.C,{value:"LISTASPB"},"ListasPB"),l.a.createElement(p.C,{value:"CFDI"},"CFDI"),l.a.createElement(p.C,{value:"UIF"},"UIF"),l.a.createElement(p.C,{value:"RACOO NOTARIOS"},"Racoo Notarios"),l.a.createElement(p.C,{value:"MINOTARIA/IMPLEMENTACION"},"Minotaria(Implementaci\xf3n)")))),l.a.createElement(p.r,{item:!0,sm:1}),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-kind-simple"},"Tipo de Soporte"),l.a.createElement(p.H,{align:"left",name:"kind",value:a.kind,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:120,name:"kind",id:"outlined-kind-simple"})},l.a.createElement(p.C,{value:"CALL"},"Llamada"),l.a.createElement(p.C,{value:"SOS"},"S.O.S."),l.a.createElement(p.C,{value:"REVERSE"},"Inverso")))),l.a.createElement(p.r,{item:!0,sm:1}),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-status-simple"},"Estatus"),l.a.createElement(p.H,{align:"left",name:"status",value:a.status,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:60,name:"status",id:"outlined-status-simple"})},l.a.createElement(p.C,{value:"FINALIZED"},"Finalizada"),l.a.createElement(p.C,{value:"PENDING DEVELOPMENT"},"Pendiente Desarrollo"),l.a.createElement(p.C,{value:"PENDING SUPPORT"},"Pendiente Soporte"),l.a.createElement(p.C,{value:"PENDING VISITS"},"Pendiente Visitas"),l.a.createElement(p.C,{value:"SALES"},"Ventas")))),l.a.createElement(p.r,{item:!0,sm:3},l.a.createElement(p.q,{component:"legend",align:"left"},"Resultado:"),l.a.createElement(p.G,{"aria-label":"ending",name:"ending",defaultValue:a.ending,onChange:this.handleChange,row:!0},l.a.createElement(p.p,{value:"PRODUCTIVE",control:l.a.createElement(p.F,null),label:"Productiva"}),l.a.createElement(p.p,{value:"UNPRODUCTIVE",control:l.a.createElement(p.F,null),label:"Improductiva"})))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:12},l.a.createElement(p.c,{type:"submit",variant:"contained",color:"primary"},"Guardar"))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.s,{onClick:this.toggleRecord},l.a.createElement(h.g,null))),l.a.createElement(p.r,{item:!0,sm:10}),l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(ye,{link:a.link,handleChange:this.handleChange}))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:12},s?l.a.createElement("ul",{className:"list-records"},a.record.map(function(t,a){return l.a.createElement("li",{key:a,onClick:function(){return e.history(a)}},l.a.createElement("span",{className:"pointer"},t.user," - ",te()(t.update).format("llll"))," ",c===a?l.a.createElement("div",{className:"pre"},JSON.stringify(t.history,null,2)):null)})):null))),l.a.createElement(be,Object.assign({callId:a._id,comments:a.comments},this.props)),l.a.createElement(p.I,{open:o,autoCapitalize:1e3,onClose:this.handleClose,message:r})))}}]),t}(n.Component),Ne=a(59),Oe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleClose=function(t){e.setState({openMessage:!1})},e.handleSelect=function(t){var a=e.state.client;a.company=t._id,e.setState({client:a})},e.handleChange=function(t){var a=e.state.client;a[t.target.name]=t.target.value,e.setState({client:a})},e.handleSubmit=function(t){t.preventDefault(),V(e.state.client).then(function(t){e.setState({message:t.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/call")},1e3)})},e.resetForm=function(){var t=e.state.client;t={name:"",extension:"",positions:"",description:"",company:""},e.setState({client:t})},e.state={client:{name:"",extension:"",positions:"",description:"",company:""},companies:[],openMessage:!1,message:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;I.a.get("".concat(T,"/company/all"),{headers:P}).then(function(e){return{error:!1,companies:e.data.companies,msg:"".concat(e.data.companies.length," Compa\xf1ias encontradas exitosamente")}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}}).then(function(t){t.companies.forEach(function(e){e.value=e._id,e.label=e.key}),setTimeout(function(){e.setState({companies:t.companies,loading:!1})},500)})}},{key:"render",value:function(){var e=this.state,t=e.client,a=e.companies,n=e.openMessage,r=e.message,o=this.props,s=o.openModal,c=o.handleClose;return l.a.createElement("div",null,l.a.createElement(p.i,{onClose:c,open:s,scroll:"body"},l.a.createElement(p.k,{onClose:c},"Nuevo Cliente"),l.a.createElement(p.j,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(Ne.a,{className:"text-left",defaultValue:t.company,placeholder:"Compa\xf1ia",isSearchable:!0,name:"company",options:a,onChange:this.handleSelect}),l.a.createElement(p.T,{label:"Nombre",name:"name",margin:"normal",value:t.name,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.T,{label:"Puestos",name:"positions",margin:"normal",value:t.positions,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.T,{label:"Extensi\xf3n",name:"extension",margin:"normal",type:"number",value:t.extension,onChange:this.handleChange,fullWidth:!0}),l.a.createElement(p.T,{label:"Descripci\xf3n",name:"description",margin:"normal",defaultValue:t.description,multiline:!0,rowsMax:"4",fullWidth:!0,onChange:this.handleChange}),l.a.createElement(p.c,{className:"buttonForm",type:"submit",onClick:c,color:"primary",variant:"contained"},"Guardar"),l.a.createElement(p.c,{className:"buttonForm",color:"secondary",onClick:this.resetForm},"Reset")))),l.a.createElement(p.I,{onClose:this.handleClose,autoHideDuration:2e3,open:n,message:r}))}}]),t}(n.Component),ke=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).searchClients=function(){R("").then(function(t){t.clients.forEach(function(e){e.value=e._id,e.label="".concat(e.name," (").concat(e.company.key,")")}),setTimeout(function(){e.setState({clients:t.clients,loading:!1})},500)})},e.handleClick=function(){e.setState({openModal:!0})},e.handleClose=function(t){e.setState({openModal:!1,openMessage:!1})},e.handleSelect=function(t){var a=e.state.call;a.client=t._id,a.company=t.company._id,e.setState({call:a})},e.handleChange=function(t){var a=e.state.call;a[t.target.name]=t.target.value,e.setState({call:a})},e.createHistory=function(){var t=e.state.call,a={problema:t.problem,solucion:t.solution,sistema:t.system,soporte:t.kind,estatus:t.status,resultado:t.ending};return"CALL"===a.soporte?a.soporte="Llamada":"SOS"===a.soporte?a.soporte="S.O.S.":a.soporte="Inverso","FINALIZED"===a.estatus?a.estatus="Finalizado":"PENDING DEVELOPMENT"===a.estatus?a.estatus="Pendiente Desarrollo":"PENDING SUPPORT"===a.estatus?a.estatus="Pendiente Soporte":"PENDING VISITS"===a.estatus?a.estatus="Pendiente Visitas":a.estatus="Ventas","PRODUCTIVE"===a.resultado?a.resultado="Productiva":a.resultado="Improductiva",a},e.handleSubmit=function(t){t.preventDefault();var a=e.state.call,n=e.createHistory(),l={user:JSON.parse(localStorage.getItem("user")).name,update:te()().format(),history:n};a.record.push(l),a.user=JSON.parse(localStorage.getItem("user"))._id,Y(a).then(function(t){e.setState({message:t.msg,openMessage:!0}),setTimeout(function(){e.props.history.push("/call/".concat(t.call))},2e3)})},e.state={call:{client:"",company:"",system:"MINOTARIA",kind:"CALL",status:"PENDING SUPPORT",record:[]},clients:[],loading:!0,message:"",openMessage:!1,openModal:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.searchClients(),console.log(this.props)}},{key:"render",value:function(){var e=this.state,t=e.call,a=e.clients,n=e.loading,r=e.message,o=e.openMessage,s=e.openModal;return l.a.createElement("div",{className:"container"},n?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement("h1",null,"Nueva Llamada"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.r,{container:!0,spacing:8},l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(p.T,{label:"Problema",name:"problem",multiline:!0,rows:"5",defaultValue:t.problem,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange})),l.a.createElement(p.r,{item:!0,sm:1}),l.a.createElement(p.r,{item:!0,sm:4,style:{marginTop:"15px"}},l.a.createElement(Ne.a,{className:"text-left",defaultValue:t.client,placeholder:"Cliente",isSearchable:!0,name:"client",options:a,onChange:this.handleSelect}),l.a.createElement(p.s,{"aria-label":"Nuevo Cliente",onClick:this.searchClients},l.a.createElement(h.q,null)),l.a.createElement(p.s,{"aria-label":"Nuevo Cliente",onClick:this.handleClick},l.a.createElement(h.a,null)))),l.a.createElement(p.r,{container:!0,spacing:8},l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-system-simple"},"Sistema"),l.a.createElement(p.H,{align:"left",name:"system",value:t.system,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:60,name:"system",id:"outlined-system-simple"})},l.a.createElement(p.C,{value:"MINOTARIA"},"Minotaria"),l.a.createElement(p.C,{value:"CALCULOFACIL"},"Caculofacil"),l.a.createElement(p.C,{value:"LISTASPB"},"ListasPB"),l.a.createElement(p.C,{value:"CFDI"},"CFDI"),l.a.createElement(p.C,{value:"UIF"},"UIF"),l.a.createElement(p.C,{value:"RACOO NOTARIOS"},"Racoo Notarios"),l.a.createElement(p.C,{value:"MINOTARIA/IMPLEMENTACION"},"Minotaria(Implementaci\xf3n)")))),l.a.createElement(p.r,{item:!0,sm:2}),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-kind-simple"},"Tipo de Soporte"),l.a.createElement(p.H,{align:"left",name:"kind",value:t.kind,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:120,name:"kind",id:"outlined-kind-simple"})},l.a.createElement(p.C,{value:"CALL"},"Llamada"),l.a.createElement(p.C,{value:"SOS"},"S.O.S."),l.a.createElement(p.C,{value:"REVERSE"},"Inverso"))))),l.a.createElement(p.r,{container:!0,spacing:8},l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(p.T,{label:"Soluci\xf3n",name:"solution",multiline:!0,rows:"5",defaultValue:t.solution,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange}))),l.a.createElement(p.r,{container:!0,spacing:8},l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-status-simple"},"Estatus"),l.a.createElement(p.H,{align:"left",name:"status",value:t.status,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:60,name:"status",id:"outlined-status-simple"})},l.a.createElement(p.C,{value:"FINALIZED"},"Finalizada"),l.a.createElement(p.C,{value:"PENDING DEVELOPMENT"},"Pendiente Desarrollo"),l.a.createElement(p.C,{value:"PENDING SUPPORT"},"Pendiente Soporte"),l.a.createElement(p.C,{value:"PENDING VISITS"},"Pendiente Visitas"),l.a.createElement(p.C,{value:"SALES"},"Ventas")))),l.a.createElement(p.r,{item:!0,sm:2}),l.a.createElement(p.r,{item:!0,sm:3},l.a.createElement(p.q,{component:"legend",align:"left"},"Resultado:"),l.a.createElement(p.G,{"aria-label":"ending",name:"ending",defaultValue:t.ending,onChange:this.handleChange,row:!0},l.a.createElement(p.p,{value:"PRODUCTIVE",control:l.a.createElement(p.F,null),label:"Productiva"}),l.a.createElement(p.p,{value:"UNPRODUCTIVE",control:l.a.createElement(p.F,null),label:"Improductiva"})))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:12},l.a.createElement(p.c,{type:"submit",variant:"contained",color:"primary"},"Guardar")))),l.a.createElement(p.I,{open:o,autoHideDuration:500,onClose:this.handleClose,message:r}),l.a.createElement(Oe,Object.assign({openModal:s,handleClose:this.handleClose},this.props))))}}]),t}(n.Component),Ie=function(e){var t=e.sos;return l.a.createElement(p.r,{item:!0,md:3},l.a.createElement(p.d,{className:"pointer"},l.a.createElement(p.f,null,l.a.createElement(p.V,{variant:"title",component:"h5"},t.user),l.a.createElement(p.V,{color:"textSecondary"},t.company),l.a.createElement(p.V,{variant:"body2",component:"p"},t.problem)),l.a.createElement(p.e,null,l.a.createElement(p.c,{color:"secondary",component:O.a,size:"small",to:"/sos/".concat(t._id)},"Ver Mas"))))},Te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={sos:[],loading:!0},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;I.a.get("".concat(T,"/sos"),{headers:P}).then(function(e){return{error:!1,sos:e.data.sos,msg:e.data.msg}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}}).then(function(t){setTimeout(function(){e.setState({sos:t.sos,loading:!1})},3e3)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(p.r,{container:!0,spacing:24},this.state.sos.map(function(e,t){return l.a.createElement(Ie,{key:t,sos:e})})))}}]),t}(n.Component),Pe=a(120),Me=a.n(Pe),je=a(220),De=a(67),xe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).reloadClients=function(){R("").then(function(t){t.clients.forEach(function(e){e.value=e._id,e.company.number?e.label="".concat(e.name," (Notaria ").concat(e.company.number,")"):e.label="".concat(e.name," (").concat(e.company.name,")")}),setTimeout(function(){e.setState({clients:t.clients,loading:!1})},500)})},e.addUser=function(){var t,a,n=e.state,l=n.clients,r=n.sos,o=l.find(function(e){return e.id_minotaria===r.id_user});r.client=void 0!==o?o._id:o,a=void 0!==o?o.label:"",t=void 0===o?"El usuario no existe, hay que buscarlo manualmente":"Existe usuario y se vinculo exitosamente",e.setState({sos:r,client:a,message:t,openMessage:!0})},e.openModalCompany=function(){e.setState({openModalCompany:!0})},e.openModalClient=function(){e.setState({openModalClient:!0})},e.handleSelect=function(t){var a=e.state.sos;a.client=t._id;var n=t.label;e.setState({sos:a,client:n,message:"Se vinculo exitosamente el usuario",openMessage:!0})},e.handleChange=function(t){var a=e.state.sos;a[t.target.name]=t.target.value,e.setState({sos:a})},e.handleClose=function(t){e.setState({openMessage:!1,openModalCompany:!1,openModalClient:!1})},e.createHistory=function(){var t=e.state.sos,a={problema:t.problem,solucion:t.solution,sistema:t.system,soporte:t.kind,estatus:t.status,resultado:t.ending};return"CALL"===a.soporte?a.soporte="Llamada":"SOS"===a.soporte?a.soporte="S.O.S.":a.soporte="Inverso","FINALIZED"===a.estatus?a.estatus="Finalizado":"PENDING DEVELOPMENT"===a.estatus?a.estatus="Pendiente Desarrollo":"PENDING SUPPORT"===a.estatus?a.estatus="Pendiente Soporte":"PENDING VISITS"===a.estatus?a.estatus="Pendiente Visitas":a.estatus="Ventas","PRODUCTIVE"===a.resultado?a.resultado="Productiva":a.resultado="Improductiva",a},e.handleSubmit=e.handleSubmit.bind(Object(De.a)(Object(De.a)(e))),e.state={sos:{},client:"",clients:[],loading:!0,message:"",openMessage:!1,showRecord:!1,openModalCompany:!1,openModalClient:!1,indexHistory:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match;H(t.params.id).then(function(t){t.sos.status="",t.sos.record=[],t.sos.call&&e.props.history.push("/call/".concat(t.sos.call)),e.setState({sos:t.sos,loading:!1})}),R("").then(function(t){t.clients.forEach(function(e){e.value=e._id,e.company.number?e.label="".concat(e.name," (Notaria ").concat(e.company.number,")"):e.label="".concat(e.name," (").concat(e.company.name,")")}),setTimeout(function(){e.setState({clients:t.clients,loading:!1}),e.addUser()},500)})}},{key:"handleSubmit",value:function(){var e=Object(je.a)(Me.a.mark(function e(t){var a,n,l,r,o,s=this;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.sos,e.next=4,H(a._id);case 4:if(void 0===(n=e.sent).sos.call){e.next=11;break}"No se puede crear la llamada porque ya se creo anteriormente",this.setState({message:"No se puede crear la llamada porque ya se creo anteriormente",openMessage:!0}),setTimeout(function(){s.props.history.push("/call/".concat(n.sos.call))},3e3),e.next=26;break;case 11:return l=this.createHistory(),r={user:JSON.parse(localStorage.getItem("user")).name,update:te()().format(),history:l},a.record.push(r),a.user=JSON.parse(localStorage.getItem("user"))._id,e.next=17,F(a.client,{id_minotaria:a.id_user});case 17:o=a._id,delete a.company,delete a.isFinished,delete a.id_user,delete a.__v,delete a.created_at,delete a.updated_at,delete a._id,Y(a).then(function(e){var t,a;(t=o,a={call:e.call,isFinished:!0},I.a.patch("".concat(T,"/sos/").concat(t),a,{headers:P}).then(function(e){return{error:!1,sos:e.data.sos,msg:"Cambios guardados exitosamente"}}).catch(function(e){return 403===e.response.status&&D(),{error:e.response.status,msg:e.response.data.msg}})).then(function(e){console.log(e)}),s.setState({message:e.msg,openMessage:!0}),setTimeout(function(){s.props.history.push("/call/".concat(e.call))},2e3)});case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.sos,a=e.client,n=e.clients,r=e.loading,o=e.message,s=e.openMessage,c=e.openModalCompany,i=e.openModalClient;return l.a.createElement("div",{className:"container"},r?l.a.createElement(p.h,null):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(p.V,{variant:"subtitle2"},a?"Asignado a ".concat(a):""),l.a.createElement("h1",{style:{margin:"0"}},t.user),l.a.createElement("h4",{style:{marginTop:"0"}},t.company),l.a.createElement("p",null,te()(t.created_at).format("LLLL"))),l.a.createElement("form",{onSubmit:this.handleSubmit},void 0===t.client?l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:3}),l.a.createElement(p.r,{item:!0,sm:4},l.a.createElement(Ne.a,{className:"text-left",placeholder:"Cliente",isSearchable:!0,name:"client",options:n,onChange:this.handleSelect})),l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.c,{variant:"contained",onClick:this.openModalCompany},"Compa\xf1ia"),l.a.createElement(q,{openModal:c,handleClose:this.handleClose,sos:t._id})),l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.c,{variant:"contained",onClick:this.openModalClient},"Cliente"),l.a.createElement(Oe,{openModal:i,handleClose:this.handleClose,sos:t._id})),l.a.createElement(p.r,{item:!0,sm:1},l.a.createElement(p.c,{variant:"contained",onClick:this.reloadClients},l.a.createElement(h.q,null))),l.a.createElement(p.r,{item:!0,sm:2})):null,l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(p.T,{label:"Problema",name:"problem",multiline:!0,rows:"5",defaultValue:t.problem,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange})),l.a.createElement(p.r,{item:!0,sm:6},l.a.createElement(p.T,{label:"Soluci\xf3n",name:"solution",multiline:!0,rows:"5",defaultValue:t.solution,margin:"normal",variant:"outlined",fullWidth:!0,onChange:this.handleChange}))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-system-simple"},"Sistema"),l.a.createElement(p.H,{align:"left",name:"system",value:t.system,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:60,name:"system",id:"outlined-system-simple"})},l.a.createElement(p.C,{value:"MINOTARIA"},"Minotaria"),l.a.createElement(p.C,{value:"CALCULOFACIL"},"Caculofacil"),l.a.createElement(p.C,{value:"LISTASPB"},"ListasPB"),l.a.createElement(p.C,{value:"CFDI"},"CFDI"),l.a.createElement(p.C,{value:"UIF"},"UIF"),l.a.createElement(p.C,{value:"RACOO NOTARIOS"},"Racoo Notarios"),l.a.createElement(p.C,{value:"MINOTARIA/IMPLEMENTACION"},"Minotaria(Implementaci\xf3n)")))),l.a.createElement(p.r,{item:!0,sm:1}),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-kind-simple"},"Tipo de Soporte"),l.a.createElement(p.H,{align:"left",name:"kind",value:t.kind,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:120,name:"kind",id:"outlined-kind-simple"})},l.a.createElement(p.C,{value:"CALL"},"Llamada"),l.a.createElement(p.C,{value:"SOS"},"S.O.S."),l.a.createElement(p.C,{value:"REVERSE"},"Inverso")))),l.a.createElement(p.r,{item:!0,sm:1}),l.a.createElement(p.r,{item:!0,sm:2},l.a.createElement(p.o,{variant:"outlined",fullWidth:!0},l.a.createElement(p.v,{htmlFor:"outlined-status-simple"},"Estatus"),l.a.createElement(p.H,{align:"left",name:"status",value:t.status,onChange:this.handleChange,input:l.a.createElement(p.D,{labelWidth:60,name:"status",id:"outlined-status-simple"})},l.a.createElement(p.C,{value:"FINALIZED"},"Finalizada"),l.a.createElement(p.C,{value:"PENDING DEVELOPMENT"},"Pendiente Desarrollo"),l.a.createElement(p.C,{value:"PENDING SUPPORT"},"Pendiente Soporte"),l.a.createElement(p.C,{value:"PENDING VISITS"},"Pendiente Visitas"),l.a.createElement(p.C,{value:"SALES"},"Ventas")))),l.a.createElement(p.r,{item:!0,sm:3},l.a.createElement(p.q,{component:"legend",align:"left"},"Resultado:"),l.a.createElement(p.G,{"aria-label":"ending",name:"ending",defaultValue:t.ending,onChange:this.handleChange,row:!0},l.a.createElement(p.p,{value:"PRODUCTIVE",control:l.a.createElement(p.F,null),label:"Productiva"}),l.a.createElement(p.p,{value:"UNPRODUCTIVE",control:l.a.createElement(p.F,null),label:"Improductiva"})))),l.a.createElement(p.r,{container:!0,spacing:24},l.a.createElement(p.r,{item:!0,sm:12},l.a.createElement(p.c,{type:"submit",variant:"contained",color:"primary"},"Guardar")))),l.a.createElement(p.I,{open:s,autoCapitalize:1e3,onClose:this.handleClose,message:o})))}}]),t}(n.Component),we=function(){return l.a.createElement(y.a,null,l.a.createElement(S.a,{exact:!0,path:"/",render:function(e){return localStorage.getItem("token")?l.a.createElement(N.a,{to:"/clients"}):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/clients",render:function(e){return localStorage.getItem("token")?l.a.createElement(se,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/client/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(ue,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/companies",render:function(e){return localStorage.getItem("token")?l.a.createElement(Q,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/company/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(re,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/calls",render:function(e){return localStorage.getItem("token")?l.a.createElement(ge,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/call",render:function(e){return localStorage.getItem("token")?l.a.createElement(ke,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/call/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(Se,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/login",render:function(e){return localStorage.getItem("token")?l.a.createElement(N.a,{to:"/clients"}):l.a.createElement(B,Object.assign({},e,{auth:"login"}))}}),l.a.createElement(S.a,{exact:!0,path:"/signup",render:function(e){return localStorage.getItem("token")?l.a.createElement(N.a,{to:"/clients"}):l.a.createElement(B,Object.assign({},e,{auth:"signup"}))}}),l.a.createElement(S.a,{exact:!0,path:"/restore",render:function(e){return localStorage.getItem("token")?l.a.createElement(N.a,{to:"/clients"}):l.a.createElement(z,e)}}),l.a.createElement(S.a,{exact:!0,path:"/sos",render:function(e){return localStorage.getItem("token")?l.a.createElement(Te,e):l.a.createElement(N.a,{to:"/login"})}}),l.a.createElement(S.a,{exact:!0,path:"/sos/:id",render:function(e){return localStorage.getItem("token")?l.a.createElement(xe,e):l.a.createElement(N.a,{to:"/login"})}}))},Ae=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b,null),l.a.createElement(we,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=a(5677),_e=a(221);a(5673);o.a.render(l.a.createElement(function(){return l.a.createElement(Le.a,null,l.a.createElement(de.b,{utils:_e.a},l.a.createElement(Ae,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a.p+"static/media/logo.76c735f5.png"}},[[5463,2,1]]]);
//# sourceMappingURL=main.9ed7022e.chunk.js.map